<!DOCTYPE html>
<html>
<body>
<script>
document.write(unescape('%3Chead%3E%0A%3Cmeta%20charset%3D%22UTF-8%22%3E%0A%3Cmeta%20name%3D%22viewport%22%20content%3D%22width%3Ddevice-width%2C%20initial-scale%3D1.0%22%3E%0A%3Ctitle%3ENyxChan%3C/title%3E%0A%3Cstyle%3E%0A*%20%7B%0Abox-sizing%3A%20border-box%3B%0Amargin%3A%200%3B%0Apadding%3A%200%3B%0A%7D%0A%0Abody%20%7B%0A%20%20font-family%3A%20Arial%2C%20sans-serif%3B%0A%20%20background%3A%20%23f4ecd8%3B%0A%20%20padding%3A%2020px%3B%0A%20%20color%3A%20%23000%3B%0A%20%20line-height%3A%201.6%3B%0A%20%20transition%3A%20background-color%200.3s%2C%20color%200.3s%3B%0A%7D%0A%0Abody.dark-theme%20%7B%0A%20%20background%3A%20%231a1a1a%3B%0A%20%20color%3A%20%23ffffff%3B%0A%7D%0A%0Abody.dark-theme%20.section%2C%0Abody.dark-theme%20.thread%20%7B%0A%20%20background%3A%20%232d2d2d%3B%0A%20%20border-color%3A%20%23444%3B%0A%20%20color%3A%20%23ffffff%3B%0A%7D%0A%0Abody.dark-theme%20.thread-header%20%7B%0A%20%20border-color%3A%20%23444%3B%0A%7D%0A%0Abody.dark-theme%20.thread-title%20%7B%0A%20%20color%3A%20%23ff6b6b%3B%0A%7D%0A%0Abody.dark-theme%20.reply-section%20%7B%0A%20%20background%3A%20%233a3a3a%3B%0A%20%20border-color%3A%20%23555%3B%0A%7D%0A%0Abody.dark-theme%20input%5Btype%3D%22text%22%5D%2C%0Abody.dark-theme%20input%5Btype%3D%22password%22%5D%2C%0Abody.dark-theme%20textarea%20%7B%0A%20%20background%3A%20%233a3a3a%3B%0A%20%20color%3A%20%23ffffff%3B%0A%20%20border-color%3A%20%23555%3B%0A%7D%0A%0Abody.dark-theme%20.modal-content%20%7B%0A%20%20background%3A%20%232d2d2d%3B%0A%20%20color%3A%20%23ffffff%3B%0A%20%20border-color%3A%20%23444%3B%0A%7D%0A%0Abody.dark-theme%20.status-bar%20%7B%0A%20%20background%3A%20%233a3a3a%3B%0A%20%20color%3A%20%23ffffff%3B%0A%20%20border%3A%201px%20solid%20%23555%3B%0A%7D%0A%0Abody.dark-theme%20.captcha-display%20%7B%0A%20%20background%3A%20%233a3a3a%3B%0A%20%20color%3A%20%23ffffff%3B%0A%20%20border-color%3A%20%23555%3B%0A%7D%0A%0Abody.dark-theme%20.captcha-container%20%7B%0A%20%20background%3A%20%232d2d2d%3B%0A%20%20border-color%3A%20%23555%3B%0A%7D%0A%0Abody.dark-theme%20.thread-meta%20%7B%0A%20%20color%3A%20%23aaa%3B%0A%7D%0A%0Abody.dark-theme%20.reply-count%20%7B%0A%20%20color%3A%20%23aaa%3B%0A%7D%0A%0Abody.dark-theme%20h2%2C%20body.dark-theme%20h3%20%7B%0A%20%20color%3A%20%23ffffff%3B%0A%7D%0A%0Abody.dark-theme%20.form-group%20label%20%7B%0A%20%20color%3A%20%23ffffff%3B%0A%7D%0A%0Abody.dark-theme%20.empty-state%2C%0Abody.dark-theme%20.loading%20%7B%0A%20%20color%3A%20%23aaa%3B%0A%7D%0A%0Abody.dark-theme%20.verification-grid%20%7B%0A%20%20background%3A%20%232d2d2d%3B%0A%7D%0A%0Abody.dark-theme%20.verification-image%20%7B%0A%20%20border-color%3A%20%23555%3B%0A%20%20background%3A%20%231a1a1a%3B%0A%7D%0A%0Abody.dark-theme%20.verification-image.selected%20%7B%0A%20%20border-color%3A%20%2300ff00%3B%0A%7D%0A%0Abody.dark-theme%20.verified-badge%20%7B%0A%20%20background%3A%20rgba%280%2C%20255%2C%200%2C%200.2%29%3B%0A%20%20border-color%3A%20%2300ff00%3B%0A%7D%0A%0Abody.dark-theme%20.verification-section%20%7B%0A%20%20background%3A%20rgba%28255%2C%20107%2C%20107%2C%200.1%29%3B%0A%20%20border-color%3A%20%23555%3B%0A%7D%0A%0A.container%20%7B%0Amax-width%3A%201200px%3B%0Amargin%3A%200%20auto%3B%0A%7D%0A%0Ah2%2C%20h3%20%7B%0Acolor%3A%20%23333%3B%0Amargin%3A%2020px%200%2010px%3B%0Afont-size%3A%201.4em%3B%0A%7D%0A%0Ah3%20%7B%0A%20%20font-size%3A%201.2em%3B%0A%7D%0A%0A.form-group%20label%20%7B%0A%20%20display%3A%20block%3B%0A%20%20margin-bottom%3A%205px%3B%0A%20%20font-weight%3A%20bold%3B%0A%20%20color%3A%20%23000%3B%0A%7D%0A%0A.section%20%7B%0A%20%20background%3A%20%23fff%3B%0A%20%20border%3A%201px%20solid%20%23ccc%3B%0A%20%20padding%3A%2015px%3B%0A%20%20margin-bottom%3A%2020px%3B%0A%20%20border-radius%3A%204px%3B%0A%7D%0A%0A.thread%20%7B%0A%20%20background%3A%20%23fff%3B%0A%20%20border%3A%201px%20solid%20%23ccc%3B%0A%20%20padding%3A%2015px%3B%0A%20%20margin-bottom%3A%2020px%3B%0A%20%20border-radius%3A%204px%3B%0A%20%20box-shadow%3A%200%202px%204px%20rgba%280%2C0%2C0%2C0.1%29%3B%0A%7D%0A%0A.thread-header%20%7B%0A%20%20border-bottom%3A%201px%20solid%20%23eee%3B%0A%20%20padding-bottom%3A%2010px%3B%0A%20%20margin-bottom%3A%2010px%3B%0A%7D%0A%0A.thread-title%20%7B%0A%20%20font-size%3A%201.2em%3B%0A%20%20font-weight%3A%20bold%3B%0A%20%20color%3A%20%23800000%3B%0A%20%20margin-bottom%3A%205px%3B%0A%7D%0A%0A.thread-meta%20%7B%0A%20%20font-size%3A%200.9em%3B%0A%20%20color%3A%20%23666%3B%0A%7D%0A%0A.reply-count%20%7B%0A%20%20color%3A%20%23666%3B%0A%20%20font-size%3A%200.9em%3B%0A%20%20margin-top%3A%205px%3B%0A%7D%0A%0A.op-tag%20%7B%0Acolor%3A%20%23800000%3B%0Afont-weight%3A%20bold%3B%0A%7D%0A%0A.mod-tag%20%7B%0Acolor%3A%20%23ff0000%3B%0Afont-weight%3A%20bold%3B%0A%7D%0A%0A.tester-tag%20%7B%0Acolor%3A%20%23008800%3B%0Afont-weight%3A%20bold%3B%0A%7D%0A%0A.captcha-container%20%7B%0A%20%20background%3A%20%23f0f0f0%3B%0A%20%20padding%3A%2015px%3B%0A%20%20border-radius%3A%204px%3B%0A%20%20margin%3A%2015px%200%3B%0A%20%20border%3A%202px%20solid%20%23ccc%3B%0A%7D%0A%0A.captcha-display%20%7B%0A%20%20background%3A%20%23fff%3B%0A%20%20padding%3A%2020px%3B%0A%20%20text-align%3A%20center%3B%0A%20%20font-size%3A%203em%3B%0A%20%20font-weight%3A%20bold%3B%0A%20%20letter-spacing%3A%2012px%3B%0A%20%20font-family%3A%20%27Courier%20New%27%2C%20monospace%3B%0A%20%20color%3A%20%23333%3B%0A%20%20text-decoration%3A%20line-through%3B%0A%20%20text-shadow%3A%202px%202px%204px%20rgba%280%2C0%2C0%2C0.3%29%3B%0A%20%20border%3A%201px%20solid%20%23999%3B%0A%20%20margin-bottom%3A%2010px%3B%0A%20%20user-select%3A%20none%3B%0A%7D%0A%0A.captcha-input%20%7B%0A%20%20width%3A%20100%25%3B%0A%20%20max-width%3A%20200px%3B%0A%20%20padding%3A%2010px%3B%0A%20%20font-size%3A%201.1em%3B%0A%20%20text-align%3A%20center%3B%0A%20%20letter-spacing%3A%204px%3B%0A%20%20text-transform%3A%20uppercase%3B%0A%7D%0A%0A.captcha-refresh%20%7B%0A%20%20margin-left%3A%2010px%3B%0A%20%20padding%3A%2010px%2015px%3B%0A%20%20font-size%3A%201.2em%3B%0A%20%20cursor%3A%20pointer%3B%0A%20%20vertical-align%3A%20bottom%3B%0A%20%20margin-bottom%3A%20-5px%3B%0A%7D%0A%0A.logout-btn%20%7B%0A%20%20padding%3A%2010px%2020px%3B%0A%20%20background%3A%20%23800000%3B%0A%20%20color%3A%20white%3B%0A%20%20border%3A%20none%3B%0A%20%20border-radius%3A%204px%3B%0A%20%20cursor%3A%20pointer%3B%0A%20%20font-size%3A%200.9em%3B%0A%20%20display%3A%20none%3B%0A%20%20margin-bottom%3A%2020px%3B%0A%7D%0A%0A.logout-btn%3Ahover%20%7B%0A%20%20background%3A%20%23600000%3B%0A%7D%0A%0A.header-controls%20%7B%0A%20%20display%3A%20flex%3B%0A%20%20justify-content%3A%20flex-end%3B%0A%20%20margin-bottom%3A%2010px%3B%0A%7D%0A%0A.post-image%20%7B%0A%20%20max-width%3A%20300px%3B%0A%20%20max-height%3A%20300px%3B%0A%20%20display%3A%20block%3B%0A%20%20margin%3A%2010px%200%3B%0A%20%20border%3A%201px%20solid%20%23ccc%3B%0A%20%20cursor%3A%20pointer%3B%0A%20%20transition%3A%20transform%200.2s%3B%0A%7D%0A%0Abody.dark-theme%20.post-image%20%7B%0A%20%20border%3A%201px%20solid%20%23555%3B%0A%7D%0A%0A.post-image%3Ahover%20%7B%0Atransform%3A%20scale%281.02%29%3B%0A%7D%0A%0A.post-video%20%7B%0A%20%20max-width%3A%20500px%3B%0A%20%20max-height%3A%20400px%3B%0A%20%20display%3A%20block%3B%0A%20%20margin%3A%2010px%200%3B%0A%20%20border%3A%201px%20solid%20%23ccc%3B%0A%20%20border-radius%3A%204px%3B%0A%7D%0A%0Abody.dark-theme%20.post-video%20%7B%0A%20%20border%3A%201px%20solid%20%23555%3B%0A%7D%0A%0A.reply-section%20%7B%0A%20%20margin-left%3A%2020px%3B%0A%20%20border-left%3A%202px%20solid%20%23ccc%3B%0A%20%20padding-left%3A%2015px%3B%0A%20%20margin-top%3A%2010px%3B%0A%20%20background%3A%20%23f9f9f9%3B%0A%20%20padding%3A%2010px%3B%0A%20%20border-radius%3A%204px%3B%0A%7D%0A%0A.reply-header%20%7B%0A%20%20font-weight%3A%20bold%3B%0A%20%20margin-bottom%3A%205px%3B%0A%7D%0A%0A.hidden-replies%20%7B%0Adisplay%3A%20none%3B%0A%7D%0A%0A.read-more%20%7B%0A%20%20color%3A%20%230066cc%3B%0A%20%20cursor%3A%20pointer%3B%0A%20%20text-decoration%3A%20underline%3B%0A%20%20margin%3A%2010px%200%3B%0A%20%20display%3A%20inline-block%3B%0A%20%20font-weight%3A%20bold%3B%0A%7D%0A%0A.read-more%3Ahover%20%7B%0Acolor%3A%20%23004499%3B%0A%7D%0A%0A.form-group%20%7B%0A%20%20margin-bottom%3A%2010px%3B%0A%7D%0A%0Ainput%5Btype%3D%22text%22%5D%2C%0Ainput%5Btype%3D%22password%22%5D%2C%0Atextarea%20%7B%0A%20%20width%3A%20100%25%3B%0A%20%20max-width%3A%20500px%3B%0A%20%20padding%3A%208px%3B%0A%20%20border%3A%201px%20solid%20%23ccc%3B%0A%20%20border-radius%3A%204px%3B%0A%20%20font-family%3A%20Arial%2C%20sans-serif%3B%0A%7D%0A%0Abody.dark-theme%20input%5Btype%3D%22text%22%5D%2C%0Abody.dark-theme%20input%5Btype%3D%22password%22%5D%2C%0Abody.dark-theme%20textarea%20%7B%0A%20%20background%3A%20%233a3a3a%3B%0A%20%20color%3A%20%23ffffff%3B%0A%20%20border%3A%201px%20solid%20%23555%3B%0A%7D%0A%0Atextarea%20%7B%0A%20%20resize%3A%20vertical%3B%0A%20%20min-height%3A%2080px%3B%0A%7D%0A%0Ainput%5Btype%3D%22file%22%5D%20%7B%0A%20%20margin%3A%205px%200%3B%0A%7D%0A%0Abody.dark-theme%20input%5Btype%3D%22file%22%5D%20%7B%0A%20%20color%3A%20%23ffffff%3B%0A%7D%0A%0Abutton%20%7B%0A%20%20padding%3A%208px%2016px%3B%0A%20%20margin%3A%205px%205px%205px%200%3B%0A%20%20background%3A%20%23800000%3B%0A%20%20color%3A%20white%3B%0A%20%20border%3A%20none%3B%0A%20%20border-radius%3A%204px%3B%0A%20%20cursor%3A%20pointer%3B%0A%20%20font-size%3A%201em%3B%0A%7D%0A%0Abutton%3Ahover%20%7B%0Abackground%3A%20%23600000%3B%0A%7D%0A%0Abutton%3Adisabled%20%7B%0A%20%20background%3A%20%23ccc%3B%0A%20%20cursor%3A%20not-allowed%3B%0A%7D%0A%0Abutton.secondary%20%7B%0A%20%20background%3A%20%23666%3B%0A%7D%0A%0Abutton.secondary%3Ahover%20%7B%0Abackground%3A%20%23444%3B%0A%7D%0A%0Abutton.danger%20%7B%0A%20%20background%3A%20%23cc0000%3B%0A%7D%0A%0Abutton.danger%3Ahover%20%7B%0Abackground%3A%20%23990000%3B%0A%7D%0A%0A.login-buttons%20%7B%0A%20%20display%3A%20flex%3B%0A%20%20gap%3A%2010px%3B%0A%20%20margin%3A%2020px%200%3B%0A%7D%0A%0A.status-bar%20%7B%0A%20%20background%3A%20%23e8d7b8%3B%0A%20%20padding%3A%2010px%3B%0A%20%20border-radius%3A%204px%3B%0A%20%20margin-bottom%3A%2020px%3B%0A%20%20font-weight%3A%20bold%3B%0A%7D%0A%0A.mod-controls%20%7B%0A%20%20margin-top%3A%2010px%3B%0A%20%20padding-top%3A%2010px%3B%0A%20%20border-top%3A%201px%20solid%20%23ccc%3B%0A%7D%0A%0Abody.dark-theme%20.mod-controls%20%7B%0A%20%20border-top-color%3A%20%23555%3B%0A%7D%0A%0A.reply-form%20%7B%0A%20%20margin-top%3A%2015px%3B%0A%20%20padding-top%3A%2015px%3B%0A%20%20border-top%3A%201px%20solid%20%23eee%3B%0A%7D%0A%0Abody.dark-theme%20.reply-form%20%7B%0A%20%20border-top-color%3A%20%23555%3B%0A%7D%0A%0A.empty-state%20%7B%0A%20%20text-align%3A%20center%3B%0A%20%20color%3A%20%23666%3B%0A%20%20padding%3A%2040px%3B%0A%20%20font-style%3A%20italic%3B%0A%7D%0A%0A.modal%20%7B%0A%20%20display%3A%20none%3B%0A%20%20position%3A%20fixed%3B%0A%20%20z-index%3A%201000%3B%0A%20%20left%3A%200%3B%0A%20%20top%3A%200%3B%0A%20%20width%3A%20100%25%3B%0A%20%20height%3A%20100%25%3B%0A%20%20background-color%3A%20rgba%280%2C0%2C0%2C0.5%29%3B%0A%20%20animation%3A%20fadeIn%200.3s%3B%0A%20%20overflow-y%3A%20auto%3B%0A%7D%0A%0A@keyframes%20fadeIn%20%7B%0A%20%20from%20%7B%20opacity%3A%200%3B%20%7D%0A%20%20to%20%7B%20opacity%3A%201%3B%20%7D%0A%7D%0A%0A.modal-content%20%7B%0A%20%20background-color%3A%20%23fff%3B%0A%20%20margin%3A%205%25%20auto%3B%0A%20%20padding%3A%2025px%3B%0A%20%20border%3A%201px%20solid%20%23888%3B%0A%20%20border-radius%3A%208px%3B%0A%20%20width%3A%2090%25%3B%0A%20%20max-width%3A%20600px%3B%0A%20%20box-shadow%3A%200%204px%206px%20rgba%280%2C0%2C0%2C0.3%29%3B%0A%20%20animation%3A%20slideDown%200.3s%3B%0A%20%20position%3A%20relative%3B%0A%7D%0A%0A@keyframes%20slideDown%20%7B%0A%20%20from%20%7B%20transform%3A%20translateY%28-50px%29%3B%20opacity%3A%200%3B%20%7D%0A%20%20to%20%7B%20transform%3A%20translateY%280%29%3B%20opacity%3A%201%3B%20%7D%0A%7D%0A%0A.modal-header%20%7B%0A%20%20font-size%3A%201.3em%3B%0A%20%20font-weight%3A%20bold%3B%0A%20%20margin-bottom%3A%2015px%3B%0A%20%20color%3A%20%23800000%3B%0A%7D%0A%0Abody.dark-theme%20.modal-header%20%7B%0A%20%20color%3A%20%23ff6b6b%3B%0A%7D%0A%0A.modal-body%20%7B%0A%20%20margin-bottom%3A%2020px%3B%0A%7D%0A%0A.modal-footer%20%7B%0A%20%20text-align%3A%20right%3B%0A%7D%0A%0A.modal-footer%20button%20%7B%0A%20%20margin-left%3A%2010px%3B%0A%7D%0A%0A.loading%20%7B%0A%20%20text-align%3A%20center%3B%0A%20%20color%3A%20%23666%3B%0A%20%20padding%3A%2020px%3B%0A%7D%0A%0A.settings-btn%20%7B%0A%20%20position%3A%20fixed%3B%0A%20%20top%3A%2020px%3B%0A%20%20right%3A%2020px%3B%0A%20%20width%3A%2050px%3B%0A%20%20height%3A%2050px%3B%0A%20%20border-radius%3A%2050%25%3B%0A%20%20font-size%3A%201.5em%3B%0A%20%20padding%3A%200%3B%0A%20%20display%3A%20flex%3B%0A%20%20align-items%3A%20center%3B%0A%20%20justify-content%3A%20center%3B%0A%20%20box-shadow%3A%200%202px%208px%20rgba%280%2C0%2C0%2C0.2%29%3B%0A%20%20z-index%3A%20999%3B%0A%7D%0A%0A.theme-selector%20%7B%0A%20%20display%3A%20flex%3B%0A%20%20gap%3A%2010px%3B%0A%20%20margin%3A%2015px%200%3B%0A%7D%0A%0A.theme-option%20%7B%0A%20%20flex%3A%201%3B%0A%20%20padding%3A%2015px%3B%0A%20%20border%3A%202px%20solid%20%23ccc%3B%0A%20%20border-radius%3A%208px%3B%0A%20%20cursor%3A%20pointer%3B%0A%20%20text-align%3A%20center%3B%0A%20%20transition%3A%20all%200.3s%3B%0A%7D%0A%0A.theme-option%3Ahover%20%7B%0A%20%20border-color%3A%20%23800000%3B%0A%20%20transform%3A%20scale%281.05%29%3B%0A%7D%0A%0A.theme-option.active%20%7B%0A%20%20border-color%3A%20%23800000%3B%0A%20%20background%3A%20%23800000%3B%0A%20%20color%3A%20white%3B%0A%7D%0A%0A.theme-preview%20%7B%0A%20%20width%3A%2060px%3B%0A%20%20height%3A%2040px%3B%0A%20%20margin%3A%200%20auto%2010px%3B%0A%20%20border-radius%3A%204px%3B%0A%20%20border%3A%201px%20solid%20%23333%3B%0A%7D%0A%0A.theme-preview.light%20%7B%0A%20%20background%3A%20linear-gradient%28to%20bottom%2C%20%23f4ecd8%2050%25%2C%20%23fff%2050%25%29%3B%0A%7D%0A%0A.theme-preview.dark%20%7B%0A%20%20background%3A%20linear-gradient%28to%20bottom%2C%20%231a1a1a%2050%25%2C%20%232d2d2d%2050%25%29%3B%0A%7D%0A%0A.checkbox-group%20%7B%0A%20%20display%3A%20flex%3B%0A%20%20align-items%3A%20center%3B%0A%20%20gap%3A%208px%3B%0A%20%20margin%3A%2010px%200%3B%0A%20%20padding%3A%208px%3B%0A%20%20background%3A%20rgba%28128%2C%200%2C%200%2C%200.05%29%3B%0A%20%20border-radius%3A%204px%3B%0A%7D%0A%0Abody.dark-theme%20.checkbox-group%20%7B%0A%20%20background%3A%20rgba%28255%2C%20107%2C%20107%2C%200.1%29%3B%0A%7D%0A%0A.checkbox-group%20input%5Btype%3D%22checkbox%22%5D%20%7B%0A%20%20width%3A%20auto%3B%0A%20%20cursor%3A%20pointer%3B%0A%7D%0A%0A.checkbox-group%20label%20%7B%0A%20%20margin%3A%200%3B%0A%20%20cursor%3A%20pointer%3B%0A%20%20font-weight%3A%20normal%3B%0A%20%20user-select%3A%20none%3B%0A%7D%0A%0A.verification-section%20%7B%0A%20%20margin-top%3A%2020px%3B%0A%20%20padding%3A%2015px%3B%0A%20%20background%3A%20rgba%28128%2C%200%2C%200%2C%200.05%29%3B%0A%20%20border-radius%3A%208px%3B%0A%20%20border%3A%202px%20solid%20%23ccc%3B%0A%7D%0A%0A.verification-grid%20%7B%0A%20%20display%3A%20grid%3B%0A%20%20grid-template-columns%3A%20repeat%283%2C%201fr%29%3B%0A%20%20gap%3A%2010px%3B%0A%20%20margin%3A%2015px%200%3B%0A%20%20background%3A%20%23f9f9f9%3B%0A%20%20padding%3A%2010px%3B%0A%20%20border-radius%3A%208px%3B%0A%7D%0A%0A.verification-image%20%7B%0A%20%20aspect-ratio%3A%201%3B%0A%20%20border%3A%203px%20solid%20%23ccc%3B%0A%20%20border-radius%3A%208px%3B%0A%20%20cursor%3A%20pointer%3B%0A%20%20transition%3A%20all%200.3s%3B%0A%20%20overflow%3A%20hidden%3B%0A%20%20position%3A%20relative%3B%0A%20%20background%3A%20%23e0e0e0%3B%0A%20%20display%3A%20flex%3B%0A%20%20align-items%3A%20center%3B%0A%20%20justify-content%3A%20center%3B%0A%20%20font-size%3A%203em%3B%0A%7D%0A%0A.verification-image%3Ahover%20%7B%0A%20%20transform%3A%20scale%281.05%29%3B%0A%20%20border-color%3A%20%23800000%3B%0A%7D%0A%0A.verification-image.selected%20%7B%0A%20%20border-color%3A%20%2300ff00%3B%0A%20%20border-width%3A%204px%3B%0A%20%20transform%3A%20scale%280.95%29%3B%0A%7D%0A%0A.verification-image.selected%3A%3Aafter%20%7B%0A%20%20content%3A%20%27%u2713%27%3B%0A%20%20position%3A%20absolute%3B%0A%20%20top%3A%205px%3B%0A%20%20right%3A%205px%3B%0A%20%20background%3A%20%2300ff00%3B%0A%20%20color%3A%20white%3B%0A%20%20width%3A%2030px%3B%0A%20%20height%3A%2030px%3B%0A%20%20border-radius%3A%2050%25%3B%0A%20%20display%3A%20flex%3B%0A%20%20align-items%3A%20center%3B%0A%20%20justify-content%3A%20center%3B%0A%20%20font-weight%3A%20bold%3B%0A%20%20font-size%3A%2020px%3B%0A%7D%0A%0A.verified-badge%20%7B%0A%20%20display%3A%20inline-flex%3B%0A%20%20align-items%3A%20center%3B%0A%20%20gap%3A%205px%3B%0A%20%20padding%3A%208px%2015px%3B%0A%20%20background%3A%20rgba%280%2C%20255%2C%200%2C%200.1%29%3B%0A%20%20border%3A%202px%20solid%20%2300ff00%3B%0A%20%20border-radius%3A%2020px%3B%0A%20%20color%3A%20%2300aa00%3B%0A%20%20font-weight%3A%20bold%3B%0A%20%20margin%3A%2010px%200%3B%0A%7D%0A%0A.verification-prompt%20%7B%0A%20%20text-align%3A%20center%3B%0A%20%20font-weight%3A%20bold%3B%0A%20%20margin-bottom%3A%2010px%3B%0A%20%20font-size%3A%201.1em%3B%0A%7D%0A%0A.divider%20%7B%0A%20%20height%3A%201px%3B%0A%20%20background%3A%20%23ccc%3B%0A%20%20margin%3A%2020px%200%3B%0A%7D%0A%0Abody.dark-theme%20.divider%20%7B%0A%20%20background%3A%20%23555%3B%0A%7D%0A%0A%3C/style%3E%0A%3C/head%3E%0A%3Cbody%3E%0A%3Cbutton%20id%3D%22settings-btn%22%20class%3D%22settings-btn%22%20title%3D%22%u041D%u0430%u0441%u0442%u0440%u043E%u0439%u043A%u0438%22%3E%u2699%uFE0F%3C/button%3E%0A%0A%3Cdiv%20class%3D%22container%22%3E%0A%20%20%3Cimg%20id%3D%22logo%22%20src%3D%22img.png%22%20alt%3D%22NyxChan%20Logo%22%20style%3D%22max-width%3A%20300px%3B%20display%3A%20block%3B%20margin%3A%200%20auto%2020px%3B%22%3E%0A%20%20%0A%20%20%3Cdiv%20class%3D%22header-controls%22%3E%0A%20%20%20%20%3Cbutton%20id%3D%22logout-btn%22%20class%3D%22logout-btn%22%3E%uD83D%uDEAA%20%u0412%u044B%u0439%u0442%u0438%3C/button%3E%0A%20%20%3C/div%3E%0A%20%20%0A%20%20%3Cdiv%20id%3D%22status-bar%22%20class%3D%22status-bar%22%20style%3D%22display%3Anone%3B%22%3E%3C/div%3E%0A%20%20%0A%20%20%3Cdiv%20id%3D%22login-section%22%20class%3D%22section%22%3E%0A%20%20%20%20%3Ch2%3E%u0412%u0445%u043E%u0434%3C/h2%3E%0A%20%20%20%20%3Cdiv%20class%3D%22login-buttons%22%3E%0A%20%20%20%20%20%20%3Cbutton%20id%3D%22mod-btn%22%3E%u0412%u0445%u043E%u0434%20%u043C%u043E%u0434%u0435%u0440%u0430%u0442%u043E%u0440%u0430%3C/button%3E%0A%20%20%20%20%20%20%3Cbutton%20id%3D%22user-btn%22%20class%3D%22secondary%22%3E%u0412%u043E%u0439%u0442%u0438%20%u043A%u0430%u043A%20%u043F%u043E%u043B%u044C%u0437%u043E%u0432%u0430%u0442%u0435%u043B%u044C%3C/button%3E%0A%20%20%20%20%3C/div%3E%0A%20%20%3C/div%3E%0A%0A%20%20%3Cdiv%20id%3D%22create-thread-section%22%20class%3D%22section%22%20style%3D%22display%3Anone%3B%22%3E%0A%20%20%20%20%3Ch2%3E%u0421%u043E%u0437%u0434%u0430%u0442%u044C%20%u043D%u043E%u0432%u044B%u0439%20%u0442%u0440%u0435%u0434%3C/h2%3E%0A%20%20%20%20%3Cdiv%20class%3D%22form-group%22%3E%0A%20%20%20%20%20%20%3Clabel%20for%3D%22thread-nick%22%3E%u0412%u0430%u0448%20%u043D%u0438%u043A%3A%3C/label%3E%0A%20%20%20%20%20%20%3Cinput%20type%3D%22text%22%20id%3D%22thread-nick%22%20placeholder%3D%22%u0410%u043D%u043E%u043D%u0438%u043C%22%3E%0A%20%20%20%20%3C/div%3E%0A%20%20%20%20%3Cdiv%20class%3D%22form-group%22%3E%0A%20%20%20%20%20%20%3Clabel%20for%3D%22thread-title%22%3E%u041D%u0430%u0437%u0432%u0430%u043D%u0438%u0435%20%u0442%u0440%u0435%u0434%u0430%20%28%u043D%u0435%u043E%u0431%u044F%u0437%u0430%u0442%u0435%u043B%u044C%u043D%u043E%29%3A%3C/label%3E%0A%20%20%20%20%20%20%3Cinput%20type%3D%22text%22%20id%3D%22thread-title%22%20placeholder%3D%22%u0412%u0432%u0435%u0434%u0438%u0442%u0435%20%u043D%u0430%u0437%u0432%u0430%u043D%u0438%u0435...%22%3E%0A%20%20%20%20%3C/div%3E%0A%20%20%20%20%3Cdiv%20class%3D%22form-group%22%3E%0A%20%20%20%20%20%20%3Clabel%20for%3D%22thread-text%22%3E%u0422%u0435%u043A%u0441%u0442%3A%3C/label%3E%0A%20%20%20%20%20%20%3Ctextarea%20id%3D%22thread-text%22%20rows%3D%224%22%20placeholder%3D%22%u0412%u0432%u0435%u0434%u0438%u0442%u0435%20%u0442%u0435%u043A%u0441%u0442%20%u043F%u043E%u0441%u0442%u0430...%22%3E%3C/textarea%3E%0A%20%20%20%20%3C/div%3E%0A%20%20%20%20%3Cdiv%20class%3D%22form-group%22%3E%0A%20%20%20%20%20%20%3Clabel%20for%3D%22thread-image%22%3E%u041C%u0435%u0434%u0438%u0430%20%28%u043D%u0435%u043E%u0431%u044F%u0437%u0430%u0442%u0435%u043B%u044C%u043D%u043E%29%3A%3C/label%3E%0A%20%20%20%20%20%20%3Cinput%20type%3D%22file%22%20id%3D%22thread-image%22%20accept%3D%22image/*%2Cvideo/mp4%2Cvideo/webm%2Cimage/gif%22%3E%0A%20%20%20%20%3C/div%3E%0A%20%20%20%20%3Cdiv%20id%3D%22thread-hide-mod-checkbox%22%20style%3D%22display%3Anone%3B%22%20class%3D%22checkbox-group%22%3E%0A%20%20%20%20%20%20%3Cinput%20type%3D%22checkbox%22%20id%3D%22thread-hide-mod%22%3E%0A%20%20%20%20%20%20%3Clabel%20for%3D%22thread-hide-mod%22%3E%uD83C%uDFAD%20%u0421%u043A%u0440%u044B%u0442%u044C%20%u043F%u0440%u0438%u043F%u0438%u0441%u043A%u0443%20%u043C%u043E%u0434%u0435%u0440%u0430%u0442%u043E%u0440%u0430%3F%3C/label%3E%0A%20%20%20%20%3C/div%3E%0A%20%20%20%20%3Cbutton%20id%3D%22new-thread-btn%22%3E%u0421%u043E%u0437%u0434%u0430%u0442%u044C%20%u0442%u0440%u0435%u0434%3C/button%3E%0A%20%20%3C/div%3E%0A%0A%20%20%3Cdiv%20id%3D%22threads-section%22%20class%3D%22section%22%3E%0A%20%20%20%20%3Ch2%3E%u0422%u0440%u0435%u0434%u044B%3C/h2%3E%0A%20%20%20%20%3Cdiv%20id%3D%22threads%22%3E%3Cdiv%20class%3D%22loading%22%3E%u0417%u0430%u0433%u0440%u0443%u0437%u043A%u0430...%3C/div%3E%3C/div%3E%0A%20%20%3C/div%3E%0A%3C/div%3E%0A%0A%3Cdiv%20id%3D%22settings-modal%22%20class%3D%22modal%22%3E%0A%20%20%3Cdiv%20class%3D%22modal-content%22%3E%0A%20%20%20%20%3Cdiv%20class%3D%22modal-header%22%3E%u2699%uFE0F%20%u041D%u0430%u0441%u0442%u0440%u043E%u0439%u043A%u0438%3C/div%3E%0A%20%20%20%20%3Cdiv%20class%3D%22modal-body%22%3E%0A%20%20%20%20%20%20%3Ch3%20style%3D%22margin-bottom%3A%2010px%3B%22%3E%u0422%u0435%u043C%u0430%20%u043E%u0444%u043E%u0440%u043C%u043B%u0435%u043D%u0438%u044F%3C/h3%3E%0A%20%20%20%20%20%20%3Cdiv%20class%3D%22theme-selector%22%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22theme-option%22%20data-theme%3D%22light%22%3E%0A%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22theme-preview%20light%22%3E%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%3Cdiv%3E%u0421%u0432%u0435%u0442%u043B%u0430%u044F%3C/div%3E%0A%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22theme-option%22%20data-theme%3D%22dark%22%3E%0A%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22theme-preview%20dark%22%3E%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%3Cdiv%3E%u0422%u0435%u043C%u043D%u0430%u044F%3C/div%3E%0A%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%0A%20%20%20%20%20%20%3Cdiv%20class%3D%22divider%22%3E%3C/div%3E%0A%20%20%20%20%20%20%0A%20%20%20%20%20%20%3Cdiv%20id%3D%22verification-section-container%22%3E%0A%20%20%20%20%20%20%20%20%3Ch3%20style%3D%22margin-bottom%3A%2010px%3B%22%3E%uD83D%uDD12%20%u0412%u0435%u0440%u0438%u0444%u0438%u043A%u0430%u0446%u0438%u044F%20%u0441%u0435%u0441%u0441%u0438%u0438%3C/h3%3E%0A%20%20%20%20%20%20%20%20%3Cp%20style%3D%22margin-bottom%3A%2015px%3B%20font-size%3A%200.95em%3B%22%3E%u041F%u0440%u043E%u0439%u0434%u0438%u0442%u0435%20%u0432%u0435%u0440%u0438%u0444%u0438%u043A%u0430%u0446%u0438%u044E%20%u043E%u0434%u0438%u043D%20%u0440%u0430%u0437%2C%20%u0447%u0442%u043E%u0431%u044B%20%u0431%u043E%u043B%u044C%u0448%u0435%20%u043D%u0435%20%u0432%u0432%u043E%u0434%u0438%u0442%u044C%20%u043A%u0430%u043F%u0447%u0443%3C/p%3E%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%3Cdiv%20id%3D%22verified-status%22%20style%3D%22display%3Anone%3B%22%3E%0A%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22verified-badge%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cspan%3E%u2705%3C/span%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cspan%3E%u0421%u0435%u0441%u0441%u0438%u044F%20%u0432%u0435%u0440%u0438%u0444%u0438%u0446%u0438%u0440%u043E%u0432%u0430%u043D%u0430%3C/span%3E%0A%20%20%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%3Cp%20style%3D%22margin-top%3A%2010px%3B%20font-size%3A%200.9em%3B%20color%3A%20%23666%3B%22%3E%u041A%u0430%u043F%u0447%u0430%20%u0431%u043E%u043B%u044C%u0448%u0435%20%u043D%u0435%20%u0431%u0443%u0434%u0435%u0442%20%u0437%u0430%u043F%u0440%u0430%u0448%u0438%u0432%u0430%u0442%u044C%u0441%u044F%3C/p%3E%0A%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%3Cdiv%20id%3D%22verification-section%22%20class%3D%22verification-section%22%20style%3D%22display%3Anone%3B%22%3E%0A%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22verification-prompt%22%20id%3D%22verification-prompt%22%3E%u0412%u044B%u0431%u0435%u0440%u0438%u0442%u0435%20%u0432%u0441%u0435%20%u043A%u0430%u0440%u0442%u0438%u043D%u043A%u0438%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22verification-grid%22%20id%3D%22verification-grid%22%3E%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%3Cbutton%20id%3D%22verify-btn%22%20style%3D%22width%3A%20100%25%3B%22%3E%u041F%u0440%u043E%u0432%u0435%u0440%u0438%u0442%u044C%3C/button%3E%0A%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%3Cbutton%20id%3D%22start-verification-btn%22%20style%3D%22display%3Anone%3B%20width%3A%20100%25%3B%22%3E%u041F%u0440%u043E%u0439%u0442%u0438%20%u0432%u0435%u0440%u0438%u0444%u0438%u043A%u0430%u0446%u0438%u044E%3C/button%3E%0A%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%3C/div%3E%0A%20%20%20%20%3Cdiv%20class%3D%22modal-footer%22%3E%0A%20%20%20%20%20%20%3Cbutton%20id%3D%22close-settings%22%20class%3D%22secondary%22%3E%u0417%u0430%u043A%u0440%u044B%u0442%u044C%3C/button%3E%0A%20%20%20%20%3C/div%3E%0A%20%20%3C/div%3E%0A%3C/div%3E%0A%0A%3Cdiv%20id%3D%22captcha-modal%22%20class%3D%22modal%22%3E%0A%20%20%3Cdiv%20class%3D%22modal-content%22%3E%0A%20%20%20%20%3Cdiv%20class%3D%22modal-header%22%3E%uD83D%uDD12%20%u041F%u0440%u043E%u0432%u0435%u0440%u043A%u0430%20%u043A%u0430%u043F%u0447%u0438%3C/div%3E%0A%20%20%20%20%3Cdiv%20class%3D%22modal-body%22%3E%0A%20%20%20%20%20%20%3Cdiv%20class%3D%22captcha-container%22%3E%0A%20%20%20%20%20%20%20%20%3Clabel%3E%u0412%u0432%u0435%u0434%u0438%u0442%u0435%20%u043A%u0430%u043F%u0447%u0443%3A%3C/label%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%20id%3D%22modal-captcha-display%22%20class%3D%22captcha-display%22%3E%3C/div%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%3E%0A%20%20%20%20%20%20%20%20%20%20%3Cinput%20type%3D%22text%22%20id%3D%22modal-captcha-input%22%20class%3D%22captcha-input%22%20placeholder%3D%22%u0412%u0432%u0435%u0434%u0438%u0442%u0435%20%u043A%u043E%u0434%22%3E%0A%20%20%20%20%20%20%20%20%20%20%3Cbutton%20type%3D%22button%22%20id%3D%22modal-refresh-captcha%22%20class%3D%22captcha-refresh%22%3E%uD83D%uDD04%3C/button%3E%0A%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%3C/div%3E%0A%20%20%20%20%3Cdiv%20class%3D%22modal-footer%22%3E%0A%20%20%20%20%20%20%3Cbutton%20id%3D%22cancel-captcha%22%20class%3D%22secondary%22%3E%u041E%u0442%u043C%u0435%u043D%u0430%3C/button%3E%0A%20%20%20%20%20%20%3Cbutton%20id%3D%22submit-captcha%22%3E%u041E%u0442%u043F%u0440%u0430%u0432%u0438%u0442%u044C%3C/button%3E%0A%20%20%20%20%3C/div%3E%0A%20%20%3C/div%3E%0A%3C/div%3E%0A%0A%3Cdiv%20id%3D%22password-modal%22%20class%3D%22modal%22%3E%0A%20%20%3Cdiv%20class%3D%22modal-content%22%3E%0A%20%20%20%20%3Cdiv%20class%3D%22modal-header%22%3E%uD83D%uDD12%20%u0412%u0445%u043E%u0434%20%u043C%u043E%u0434%u0435%u0440%u0430%u0442%u043E%u0440%u0430%3C/div%3E%0A%20%20%20%20%3Cdiv%20class%3D%22modal-body%22%3E%0A%20%20%20%20%20%20%3Cdiv%20class%3D%22form-group%22%3E%0A%20%20%20%20%20%20%20%20%3Clabel%20for%3D%22mod-password-input%22%3E%u0412%u0432%u0435%u0434%u0438%u0442%u0435%20%u043F%u0430%u0440%u043E%u043B%u044C%3A%3C/label%3E%0A%20%20%20%20%20%20%20%20%3Cinput%20type%3D%22password%22%20id%3D%22mod-password-input%22%20placeholder%3D%22%u041F%u0430%u0440%u043E%u043B%u044C%22%3E%0A%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%3C/div%3E%0A%20%20%20%20%3Cdiv%20class%3D%22modal-footer%22%3E%0A%20%20%20%20%20%20%3Cbutton%20id%3D%22cancel-password%22%20class%3D%22secondary%22%3E%u041E%u0442%u043C%u0435%u043D%u0430%3C/button%3E%0A%20%20%20%20%20%20%3Cbutton%20id%3D%22submit-password%22%3E%u0412%u043E%u0439%u0442%u0438%3C/button%3E%0A%20%20%20%20%3C/div%3E%0A%20%20%3C/div%3E%0A%3C/div%3E%0A%0A%3Cdiv%20id%3D%22confirm-modal%22%20class%3D%22modal%22%3E%0A%20%20%3Cdiv%20class%3D%22modal-content%22%3E%0A%20%20%20%20%3Cdiv%20class%3D%22modal-header%22%20id%3D%22confirm-title%22%3E%u041F%u043E%u0434%u0442%u0432%u0435%u0440%u0436%u0434%u0435%u043D%u0438%u0435%3C/div%3E%0A%20%20%20%20%3Cdiv%20class%3D%22modal-body%22%3E%0A%20%20%20%20%20%20%3Cp%20id%3D%22confirm-message%22%3E%3C/p%3E%0A%20%20%20%20%3C/div%3E%0A%20%20%20%20%3Cdiv%20class%3D%22modal-footer%22%3E%0A%20%20%20%20%20%20%3Cbutton%20id%3D%22cancel-confirm%22%20class%3D%22secondary%22%3E%u041E%u0442%u043C%u0435%u043D%u0430%3C/button%3E%0A%20%20%20%20%20%20%3Cbutton%20id%3D%22submit-confirm%22%20class%3D%22danger%22%3E%u0423%u0434%u0430%u043B%u0438%u0442%u044C%3C/button%3E%0A%20%20%20%20%3C/div%3E%0A%20%20%3C/div%3E%0A%3C/div%3E%0A%0A%3Cscript%20type%3D%22module%22%3E%0Aimport%20%7B%20initializeApp%20%7D%20from%20%27https%3A//www.gstatic.com/firebasejs/10.7.1/firebase-app.js%27%3B%0Aimport%20%7B%20getDatabase%2C%20ref%2C%20push%2C%20set%2C%20onValue%2C%20remove%20%7D%20from%20%27https%3A//www.gstatic.com/firebasejs/10.7.1/firebase-database.js%27%3B%0A%0Aconst%20firebaseConfig%20%3D%20%7B%0A%20%20%20%20apiKey%3A%20%22AIzaSyBmH3-b1NzPDt4vhCaA89DLOCepKge5nag%22%2C%0A%20%20%20%20authDomain%3A%20%22nyxchan-65a73.firebaseapp.com%22%2C%0A%20%20%20%20databaseURL%3A%20%22https%3A//nyxchan-65a73-default-rtdb.europe-west1.firebasedatabase.app%22%2C%0A%20%20%20%20projectId%3A%20%22nyxchan-65a73%22%2C%0A%20%20%20%20storageBucket%3A%20%22nyxchan-65a73.firebasestorage.app%22%2C%0A%20%20%20%20messagingSenderId%3A%20%22786040931352%22%2C%0A%20%20%20%20appId%3A%20%221%3A786040931352%3Aweb%3A454255ab6863f11c53af6d%22%0A%7D%3B%0A%0Aconst%20app%20%3D%20initializeApp%28firebaseConfig%29%3B%0Aconst%20database%20%3D%20getDatabase%28app%29%3B%0A%0Alet%20isMod%20%3D%20false%3B%0Alet%20currentUser%20%3D%20null%3B%0Alet%20currentCaptcha%20%3D%20%27%27%3B%0Alet%20captchaCallback%20%3D%20null%3B%0Alet%20currentTheme%20%3D%20localStorage.getItem%28%27theme%27%29%20%7C%7C%20%27light%27%3B%0Alet%20isVerified%20%3D%20false%3B%0Alet%20currentVerificationTask%20%3D%20null%3B%0Aconst%20MOD_PASSWORD%20%3D%20%27P7%21dx92-LemFire%27%3B%0A%0Aconst%20VERIFICATION_TASKS%20%3D%20%5B%0A%20%20%7B%20target%3A%20%27%uD83D%uDE97%27%2C%20label%3A%20%27%u043C%u0430%u0448%u0438%u043D%u0430%u043C%u0438%27%2C%20emojis%3A%20%5B%27%uD83D%uDE97%27%2C%20%27%uD83C%uDFE0%27%2C%20%27%uD83C%uDF33%27%2C%20%27%uD83D%uDE97%27%2C%20%27%uD83D%uDC15%27%2C%20%27%uD83C%uDF4E%27%2C%20%27%uD83D%uDE97%27%2C%20%27%u2708%uFE0F%27%2C%20%27%uD83D%uDCF1%27%5D%20%7D%2C%0A%20%20%7B%20target%3A%20%27%uD83D%uDC31%27%2C%20label%3A%20%27%u043A%u043E%u0448%u043A%u0430%u043C%u0438%27%2C%20emojis%3A%20%5B%27%uD83D%uDC31%27%2C%20%27%uD83D%uDC36%27%2C%20%27%uD83D%uDC31%27%2C%20%27%uD83C%uDF38%27%2C%20%27%uD83D%uDC31%27%2C%20%27%uD83C%uDFC0%27%2C%20%27%uD83C%uDFB8%27%2C%20%27%uD83D%uDC36%27%2C%20%27%uD83C%uDF55%27%5D%20%7D%2C%0A%20%20%7B%20target%3A%20%27%uD83C%uDF55%27%2C%20label%3A%20%27%u043F%u0438%u0446%u0446%u0435%u0439%27%2C%20emojis%3A%20%5B%27%uD83C%uDF55%27%2C%20%27%uD83C%uDF54%27%2C%20%27%uD83C%uDF2E%27%2C%20%27%uD83C%uDF55%27%2C%20%27%uD83E%uDD57%27%2C%20%27%uD83C%uDF55%27%2C%20%27%uD83C%uDF70%27%2C%20%27%uD83C%uDF5C%27%2C%20%27%uD83E%uDD64%27%5D%20%7D%2C%0A%20%20%7B%20target%3A%20%27%uD83C%uDF38%27%2C%20label%3A%20%27%u0446%u0432%u0435%u0442%u0430%u043C%u0438%27%2C%20emojis%3A%20%5B%27%uD83C%uDF38%27%2C%20%27%uD83C%uDF3C%27%2C%20%27%uD83C%uDF38%27%2C%20%27%uD83C%uDF35%27%2C%20%27%uD83C%uDF38%27%2C%20%27%uD83C%uDF32%27%2C%20%27%uD83C%uDF42%27%2C%20%27%uD83C%uDF3A%27%2C%20%27%uD83C%uDF39%27%5D%20%7D%2C%0A%20%20%7B%20target%3A%20%27%u26BD%27%2C%20label%3A%20%27%u043C%u044F%u0447%u0430%u043C%u0438%27%2C%20emojis%3A%20%5B%27%u26BD%27%2C%20%27%uD83C%uDFC0%27%2C%20%27%u26BD%27%2C%20%27%uD83C%uDFBE%27%2C%20%27%u26BD%27%2C%20%27%uD83C%uDFC8%27%2C%20%27%u26BE%27%2C%20%27%uD83C%uDFB1%27%2C%20%27%uD83C%uDFD0%27%5D%20%7D%0A%5D%3B%0A%0Afunction%20applyTheme%28theme%29%20%7B%0A%20%20currentTheme%20%3D%20theme%3B%0A%20%20if%20%28theme%20%3D%3D%3D%20%27dark%27%29%20%7B%0A%20%20%20%20document.body.classList.add%28%27dark-theme%27%29%3B%0A%20%20%7D%20else%20%7B%0A%20%20%20%20document.body.classList.remove%28%27dark-theme%27%29%3B%0A%20%20%7D%0A%20%20localStorage.setItem%28%27theme%27%2C%20theme%29%3B%0A%20%20updateThemeSelector%28%29%3B%0A%7D%0A%0Afunction%20updateThemeSelector%28%29%20%7B%0A%20%20document.querySelectorAll%28%27.theme-option%27%29.forEach%28option%20%3D%3E%20%7B%0A%20%20%20%20if%20%28option.dataset.theme%20%3D%3D%3D%20currentTheme%29%20%7B%0A%20%20%20%20%20%20option.classList.add%28%27active%27%29%3B%0A%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20option.classList.remove%28%27active%27%29%3B%0A%20%20%20%20%7D%0A%20%20%7D%29%3B%0A%7D%0A%0Afunction%20isTester%28%29%20%7B%0A%20%20return%20window.location.hostname%20%3D%3D%3D%20%27127.0.0.1%27%20%26%26%20window.location.port%20%3D%3D%3D%20%2717414%27%3B%0A%7D%0A%0Afunction%20generateCaptcha%28%29%20%7B%0A%20%20const%20chars%20%3D%20%27ABCDEFGHJKLMNPQRSTUVWXYZ23456789%27%3B%0A%20%20let%20captcha%20%3D%20%27%27%3B%0A%20%20for%20%28let%20i%20%3D%200%3B%20i%20%3C%206%3B%20i++%29%20%7B%0A%20%20%20%20captcha%20+%3D%20chars.charAt%28Math.floor%28Math.random%28%29%20*%20chars.length%29%29%3B%0A%20%20%7D%0A%20%20currentCaptcha%20%3D%20captcha%3B%0A%20%20document.getElementById%28%27modal-captcha-display%27%29.textContent%20%3D%20captcha%3B%0A%20%20document.getElementById%28%27modal-captcha-input%27%29.value%20%3D%20%27%27%3B%0A%7D%0A%0Afunction%20showCaptchaModal%28callback%29%20%7B%0A%20%20if%20%28isVerified%29%20%7B%0A%20%20%20%20callback%28%29%3B%0A%20%20%20%20return%3B%0A%20%20%7D%0A%20%20%0A%20%20captchaCallback%20%3D%20callback%3B%0A%20%20generateCaptcha%28%29%3B%0A%20%20%0A%20%20const%20scrollY%20%3D%20window.scrollY%3B%0A%20%20%0A%20%20showModal%28%27captcha-modal%27%29%3B%0A%20%20document.body.style.overflow%20%3D%20%27hidden%27%3B%0A%20%20document.body.style.position%20%3D%20%27fixed%27%3B%0A%20%20document.body.style.top%20%3D%20%60-%24%7BscrollY%7Dpx%60%3B%0A%20%20document.body.style.width%20%3D%20%27100%25%27%3B%0A%20%20%0A%20%20setTimeout%28%28%29%20%3D%3E%20%7B%0A%20%20%20%20const%20input%20%3D%20document.getElementById%28%27modal-captcha-input%27%29%3B%0A%20%20%20%20if%20%28input%29%20%7B%0A%20%20%20%20%20%20input.focus%28%29%3B%0A%20%20%20%20%7D%0A%20%20%7D%2C%20100%29%3B%0A%7D%0A%0Afunction%20verifyCaptcha%28%29%20%7B%0A%20%20const%20userInput%20%3D%20document.getElementById%28%27modal-captcha-input%27%29.value.toUpperCase%28%29%3B%0A%20%20return%20userInput%20%3D%3D%3D%20currentCaptcha%3B%0A%7D%0A%0Afunction%20showModal%28modalId%29%20%7B%0A%20%20document.getElementById%28modalId%29.style.display%20%3D%20%27block%27%3B%0A%7D%0A%0Afunction%20hideModal%28modalId%29%20%7B%0A%20%20const%20scrollY%20%3D%20document.body.style.top%3B%0A%20%20%0A%20%20document.getElementById%28modalId%29.style.display%20%3D%20%27none%27%3B%0A%20%20document.body.style.overflow%20%3D%20%27%27%3B%0A%20%20document.body.style.position%20%3D%20%27%27%3B%0A%20%20document.body.style.top%20%3D%20%27%27%3B%0A%20%20document.body.style.width%20%3D%20%27%27%3B%0A%20%20%0A%20%20if%20%28scrollY%29%20%7B%0A%20%20%20%20window.scrollTo%280%2C%20parseInt%28scrollY%20%7C%7C%20%270%27%29%20*%20-1%29%3B%0A%20%20%7D%0A%7D%0A%0Afunction%20showConfirm%28message%2C%20onConfirm%29%20%7B%0A%20%20document.getElementById%28%27confirm-message%27%29.textContent%20%3D%20message%3B%0A%20%20showModal%28%27confirm-modal%27%29%3B%0A%20%20%0A%20%20const%20confirmBtn%20%3D%20document.getElementById%28%27submit-confirm%27%29%3B%0A%20%20const%20cancelBtn%20%3D%20document.getElementById%28%27cancel-confirm%27%29%3B%0A%20%20%0A%20%20const%20newConfirmBtn%20%3D%20confirmBtn.cloneNode%28true%29%3B%0A%20%20const%20newCancelBtn%20%3D%20cancelBtn.cloneNode%28true%29%3B%0A%20%20%0A%20%20confirmBtn.parentNode.replaceChild%28newConfirmBtn%2C%20confirmBtn%29%3B%0A%20%20cancelBtn.parentNode.replaceChild%28newCancelBtn%2C%20cancelBtn%29%3B%0A%20%20%0A%20%20newConfirmBtn.onclick%20%3D%20%28%29%20%3D%3E%20%7B%0A%20%20%20%20hideModal%28%27confirm-modal%27%29%3B%0A%20%20%20%20onConfirm%28%29%3B%0A%20%20%7D%3B%0A%20%20%0A%20%20newCancelBtn.onclick%20%3D%20%28%29%20%3D%3E%20%7B%0A%20%20%20%20hideModal%28%27confirm-modal%27%29%3B%0A%20%20%7D%3B%0A%7D%0A%0Awindow.onclick%20%3D%20%28event%29%20%3D%3E%20%7B%0A%20%20if%20%28event.target.classList.contains%28%27modal%27%29%29%20%7B%0A%20%20%20%20const%20modalId%20%3D%20event.target.id%3B%0A%20%20%20%20hideModal%28modalId%29%3B%0A%20%20%20%20if%20%28modalId%20%3D%3D%3D%20%27captcha-modal%27%29%20%7B%0A%20%20%20%20%20%20captchaCallback%20%3D%20null%3B%0A%20%20%20%20%7D%0A%20%20%7D%0A%7D%3B%0A%0Afunction%20generateUID%28%29%20%7B%0A%20%20return%20%27id%27%20+%20Math.random%28%29.toString%2836%29.substring%282%2C%2010%29%20+%20Date.now%28%29.toString%2836%29%3B%0A%7D%0A%0Afunction%20saveUserSession%28%29%20%7B%0A%20%20if%20%28currentUser%29%20%7B%0A%20%20%20%20localStorage.setItem%28%27userSession%27%2C%20JSON.stringify%28%7B%0A%20%20%20%20%20%20uid%3A%20currentUser.uid%2C%0A%20%20%20%20%20%20nick%3A%20currentUser.nick%2C%0A%20%20%20%20%20%20isMod%3A%20currentUser.isMod%2C%0A%20%20%20%20%20%20isTester%3A%20currentUser.isTester%2C%0A%20%20%20%20%20%20isVerified%3A%20isVerified%0A%20%20%20%20%7D%29%29%3B%0A%20%20%7D%0A%7D%0A%0Afunction%20loadUserSession%28%29%20%7B%0A%20%20const%20session%20%3D%20localStorage.getItem%28%27userSession%27%29%3B%0A%20%20if%20%28session%29%20%7B%0A%20%20%20%20try%20%7B%0A%20%20%20%20%20%20const%20data%20%3D%20JSON.parse%28session%29%3B%0A%20%20%20%20%20%20currentUser%20%3D%20%7B%0A%20%20%20%20%20%20%20%20uid%3A%20data.uid%2C%0A%20%20%20%20%20%20%20%20nick%3A%20data.nick%2C%0A%20%20%20%20%20%20%20%20isMod%3A%20data.isMod%2C%0A%20%20%20%20%20%20%20%20isTester%3A%20data.isTester%0A%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%20%20isMod%20%3D%20data.isMod%3B%0A%20%20%20%20%20%20isVerified%20%3D%20data.isVerified%20%7C%7C%20false%3B%0A%20%20%20%20%20%20return%20true%3B%0A%20%20%20%20%7D%20catch%20%28e%29%20%7B%0A%20%20%20%20%20%20localStorage.removeItem%28%27userSession%27%29%3B%0A%20%20%20%20%7D%0A%20%20%7D%0A%20%20return%20false%3B%0A%7D%0A%0Afunction%20logout%28%29%20%7B%0A%20%20localStorage.removeItem%28%27userSession%27%29%3B%0A%20%20currentUser%20%3D%20null%3B%0A%20%20isMod%20%3D%20false%3B%0A%20%20isVerified%20%3D%20false%3B%0A%20%20%0A%20%20document.getElementById%28%27login-section%27%29.style.display%20%3D%20%27block%27%3B%0A%20%20document.getElementById%28%27create-thread-section%27%29.style.display%20%3D%20%27none%27%3B%0A%20%20document.getElementById%28%27logout-btn%27%29.style.display%20%3D%20%27none%27%3B%0A%20%20%0A%20%20updateVerificationUI%28%29%3B%0A%20%20loadThreads%28%29%3B%0A%7D%0A%0Afunction%20showStatus%28message%2C%20type%20%3D%20%27info%27%29%20%7B%0A%20%20const%20bar%20%3D%20document.getElementById%28%27status-bar%27%29%3B%0A%20%20bar.textContent%20%3D%20message%3B%0A%20%20bar.style.display%20%3D%20%27block%27%3B%0A%20%20%0A%20%20if%20%28document.body.classList.contains%28%27dark-theme%27%29%29%20%7B%0A%20%20%20%20bar.style.background%20%3D%20type%20%3D%3D%3D%20%27error%27%20%3F%20%27%238b0000%27%20%3A%20%27%233a3a3a%27%3B%0A%20%20%20%20bar.style.color%20%3D%20%27%23ffffff%27%3B%0A%20%20%20%20bar.style.border%20%3D%20%271px%20solid%20%23555%27%3B%0A%20%20%7D%20else%20%7B%0A%20%20%20%20bar.style.background%20%3D%20type%20%3D%3D%3D%20%27error%27%20%3F%20%27%23ffcccc%27%20%3A%20%27%23e8d7b8%27%3B%0A%20%20%20%20bar.style.color%20%3D%20%27%23000%27%3B%0A%20%20%20%20bar.style.border%20%3D%20%271px%20solid%20transparent%27%3B%0A%20%20%7D%0A%20%20%0A%20%20setTimeout%28%28%29%20%3D%3E%20bar.style.display%20%3D%20%27none%27%2C%203000%29%3B%0A%7D%0A%0Afunction%20login%28asMod%20%3D%20false%29%20%7B%0A%20%20currentUser%20%3D%20%7B%0A%20%20%20%20uid%3A%20generateUID%28%29%2C%0A%20%20%20%20nick%3A%20%27%u0410%u043D%u043E%u043D%u0438%u043C%27%2C%0A%20%20%20%20isMod%3A%20asMod%2C%0A%20%20%20%20isTester%3A%20isTester%28%29%0A%20%20%7D%3B%0A%20%20isMod%20%3D%20asMod%3B%0A%20%20%0A%20%20saveUserSession%28%29%3B%0A%20%20%0A%20%20document.getElementById%28%27login-section%27%29.style.display%20%3D%20%27none%27%3B%0A%20%20document.getElementById%28%27create-thread-section%27%29.style.display%20%3D%20%27block%27%3B%0A%20%20document.getElementById%28%27logout-btn%27%29.style.display%20%3D%20%27block%27%3B%0A%20%20%0A%20%20if%20%28isMod%29%20%7B%0A%20%20%20%20document.getElementById%28%27thread-hide-mod-checkbox%27%29.style.display%20%3D%20%27block%27%3B%0A%20%20%7D%20else%20%7B%0A%20%20%20%20document.getElementById%28%27thread-hide-mod-checkbox%27%29.style.display%20%3D%20%27none%27%3B%0A%20%20%7D%0A%20%20%0A%20%20updateVerificationUI%28%29%3B%0A%20%20loadThreads%28%29%3B%0A%7D%0A%0Afunction%20canDeletePost%28postUid%29%20%7B%0A%20%20if%20%28%21currentUser%29%20return%20false%3B%0A%20%20if%20%28isMod%29%20return%20true%3B%0A%20%20return%20postUid%20%3D%3D%3D%20currentUser.uid%3B%0A%7D%0A%0Afunction%20generateVerificationTask%28%29%20%7B%0A%20%20currentVerificationTask%20%3D%20VERIFICATION_TASKS%5BMath.floor%28Math.random%28%29%20*%20VERIFICATION_TASKS.length%29%5D%3B%0A%20%20%0A%20%20const%20shuffled%20%3D%20%5B...currentVerificationTask.emojis%5D.sort%28%28%29%20%3D%3E%20Math.random%28%29%20-%200.5%29%3B%0A%20%20%0A%20%20const%20grid%20%3D%20document.getElementById%28%27verification-grid%27%29%3B%0A%20%20grid.innerHTML%20%3D%20%27%27%3B%0A%20%20%0A%20%20document.getElementById%28%27verification-prompt%27%29.textContent%20%3D%20%0A%20%20%20%20%60%u0412%u044B%u0431%u0435%u0440%u0438%u0442%u0435%20%u0432%u0441%u0435%20%u043A%u0430%u0440%u0442%u0438%u043D%u043A%u0438%20%u0441%20%24%7BcurrentVerificationTask.target%7D%20%24%7BcurrentVerificationTask.label%7D%60%3B%0A%20%20%0A%20%20shuffled.forEach%28%28emoji%2C%20index%29%20%3D%3E%20%7B%0A%20%20%20%20const%20cell%20%3D%20document.createElement%28%27div%27%29%3B%0A%20%20%20%20cell.className%20%3D%20%27verification-image%27%3B%0A%20%20%20%20cell.textContent%20%3D%20emoji%3B%0A%20%20%20%20cell.dataset.emoji%20%3D%20emoji%3B%0A%20%20%20%20cell.dataset.index%20%3D%20index%3B%0A%20%20%20%20%0A%20%20%20%20cell.onclick%20%3D%20%28%29%20%3D%3E%20%7B%0A%20%20%20%20%20%20cell.classList.toggle%28%27selected%27%29%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20%0A%20%20%20%20grid.appendChild%28cell%29%3B%0A%20%20%7D%29%3B%0A%7D%0A%0Afunction%20verifySelection%28%29%20%7B%0A%20%20const%20selected%20%3D%20document.querySelectorAll%28%27.verification-image.selected%27%29%3B%0A%20%20const%20selectedEmojis%20%3D%20Array.from%28selected%29.map%28el%20%3D%3E%20el.dataset.emoji%29%3B%0A%20%20%0A%20%20const%20correctEmojis%20%3D%20currentVerificationTask.emojis.filter%28e%20%3D%3E%20e%20%3D%3D%3D%20currentVerificationTask.target%29%3B%0A%20%20%0A%20%20if%20%28selectedEmojis.length%20%21%3D%3D%20correctEmojis.length%29%20%7B%0A%20%20%20%20return%20false%3B%0A%20%20%7D%0A%20%20%0A%20%20return%20selectedEmojis.every%28e%20%3D%3E%20e%20%3D%3D%3D%20currentVerificationTask.target%29%3B%0A%7D%0A%0Afunction%20updateVerificationUI%28%29%20%7B%0A%20%20const%20verifiedStatus%20%3D%20document.getElementById%28%27verified-status%27%29%3B%0A%20%20const%20verificationSection%20%3D%20document.getElementById%28%27verification-section%27%29%3B%0A%20%20const%20startBtn%20%3D%20document.getElementById%28%27start-verification-btn%27%29%3B%0A%20%20%0A%20%20if%20%28currentUser%29%20%7B%0A%20%20%20%20if%20%28isVerified%29%20%7B%0A%20%20%20%20%20%20verifiedStatus.style.display%20%3D%20%27block%27%3B%0A%20%20%20%20%20%20verificationSection.style.display%20%3D%20%27none%27%3B%0A%20%20%20%20%20%20startBtn.style.display%20%3D%20%27none%27%3B%0A%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20verifiedStatus.style.display%20%3D%20%27none%27%3B%0A%20%20%20%20%20%20verificationSection.style.display%20%3D%20%27none%27%3B%0A%20%20%20%20%20%20startBtn.style.display%20%3D%20%27block%27%3B%0A%20%20%20%20%7D%0A%20%20%7D%20else%20%7B%0A%20%20%20%20verifiedStatus.style.display%20%3D%20%27none%27%3B%0A%20%20%20%20verificationSection.style.display%20%3D%20%27none%27%3B%0A%20%20%20%20startBtn.style.display%20%3D%20%27none%27%3B%0A%20%20%7D%0A%7D%0A%0Afunction%20loadThreads%28%29%20%7B%0A%20%20const%20threadsRef%20%3D%20ref%28database%2C%20%27threads%27%29%3B%0A%20%20%0A%20%20onValue%28threadsRef%2C%20%28snapshot%29%20%3D%3E%20%7B%0A%20%20%20%20const%20container%20%3D%20document.getElementById%28%27threads%27%29%3B%0A%20%20%20%20const%20data%20%3D%20snapshot.val%28%29%3B%0A%20%20%20%20%0A%20%20%20%20if%20%28%21data%29%20%7B%0A%20%20%20%20%20%20container.innerHTML%20%3D%20%27%3Cdiv%20class%3D%22empty-state%22%3E%u041F%u043E%u043A%u0430%20%u043D%u0435%u0442%20%u0442%u0440%u0435%u0434%u043E%u0432.%20%u0421%u043E%u0437%u0434%u0430%u0439%u0442%u0435%20%u043F%u0435%u0440%u0432%u044B%u0439%21%3C/div%3E%27%3B%0A%20%20%20%20%20%20return%3B%0A%20%20%20%20%7D%0A%20%20%20%20%0A%20%20%20%20const%20threads%20%3D%20Object.entries%28data%29.map%28%28%5Bid%2C%20thread%5D%29%20%3D%3E%20%28%7B%0A%20%20%20%20%20%20firebaseId%3A%20id%2C%0A%20%20%20%20%20%20...thread%0A%20%20%20%20%7D%29%29.sort%28%28a%2C%20b%29%20%3D%3E%20b.timestamp%20-%20a.timestamp%29%3B%0A%20%20%20%20%0A%20%20%20%20container.innerHTML%20%3D%20%27%27%3B%0A%20%20%20%20%0A%20%20%20%20threads.forEach%28%28thread%29%20%3D%3E%20%7B%0A%20%20%20%20%20%20const%20threadDiv%20%3D%20document.createElement%28%27div%27%29%3B%0A%20%20%20%20%20%20threadDiv.className%20%3D%20%27thread%27%3B%0A%20%20%20%20%20%20%0A%20%20%20%20%20%20const%20nick%20%3D%20thread.nick%20%7C%7C%20%27%u0410%u043D%u043E%u043D%u0438%u043C%27%3B%0A%20%20%20%20%20%20%0A%20%20%20%20%20%20const%20modTag%20%3D%20%28thread.isMod%20%26%26%20%21thread.hideMod%29%20%3F%20%27%3Cspan%20class%3D%22mod-tag%22%3E%5BMOD%5D%3C/span%3E%20%27%20%3A%20%27%27%3B%0A%20%20%20%20%20%20const%20testerTag%20%3D%20thread.isTester%20%3F%20%27%3Cspan%20class%3D%22tester-tag%22%3E%5BTESTER%5D%3C/span%3E%20%27%20%3A%20%27%27%3B%0A%20%20%20%20%20%20const%20replyCount%20%3D%20thread.replies%20%3F%20Object.keys%28thread.replies%29.length%20%3A%200%3B%0A%20%20%20%20%20%20%0A%20%20%20%20%20%20let%20mediaHtml%20%3D%20%27%27%3B%0A%20%20%20%20%20%20if%20%28thread.image%29%20%7B%0A%20%20%20%20%20%20%20%20if%20%28thread.mediaType%20%26%26%20thread.mediaType.startsWith%28%27video/%27%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20mediaHtml%20%3D%20%60%3Cvideo%20class%3D%27post-video%27%20controls%3E%3Csource%20src%3D%27%24%7Bthread.image%7D%27%20type%3D%27%24%7Bthread.mediaType%7D%27%3E%u0412%u0430%u0448%20%u0431%u0440%u0430%u0443%u0437%u0435%u0440%20%u043D%u0435%20%u043F%u043E%u0434%u0434%u0435%u0440%u0436%u0438%u0432%u0430%u0435%u0442%20%u0432%u0438%u0434%u0435%u043E.%3C/video%3E%60%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20mediaHtml%20%3D%20%60%3Cimg%20class%3D%27post-image%27%20src%3D%27%24%7Bthread.image%7D%27%20alt%3D%27%u0418%u0437%u043E%u0431%u0440%u0430%u0436%u0435%u043D%u0438%u0435%27%20onclick%3D%27window.open%28this.src%29%27%20/%3E%60%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%0A%20%20%20%20%20%20threadDiv.innerHTML%20%3D%20%60%0A%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22thread-header%22%3E%0A%20%20%20%20%20%20%20%20%20%20%24%7Bthread.title%20%3F%20%60%3Cdiv%20class%3D%22thread-title%22%3E%24%7BescapeHtml%28thread.title%29%7D%3C/div%3E%60%20%3A%20%27%27%7D%0A%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22thread-meta%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%24%7BmodTag%7D%24%7BtesterTag%7D%3Cspan%20class%3D%22op-tag%22%3EOP%3C/span%3E%20%3Cstrong%3E%24%7BescapeHtml%28nick%29%7D%3C/strong%3E%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%7C%20%24%7Bnew%20Date%28thread.timestamp%29.toLocaleString%28%27ru-RU%27%29%7D%0A%20%20%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%3E%24%7BescapeHtml%28thread.text%29%7D%3C/div%3E%0A%20%20%20%20%20%20%20%20%24%7BmediaHtml%7D%0A%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22reply-count%22%3E%24%7BreplyCount%7D%20%24%7BgetRepliesWord%28replyCount%29%7D%3C/div%3E%0A%20%20%20%20%20%20%60%3B%0A%20%20%20%20%20%20%0A%20%20%20%20%20%20const%20repliesContainer%20%3D%20document.createElement%28%27div%27%29%3B%0A%20%20%20%20%20%20%0A%20%20%20%20%20%20if%20%28thread.replies%29%20%7B%0A%20%20%20%20%20%20%20%20const%20repliesArray%20%3D%20Object.entries%28thread.replies%29.map%28%28%5Bid%2C%20reply%5D%29%20%3D%3E%20%28%7B%0A%20%20%20%20%20%20%20%20%20%20firebaseId%3A%20id%2C%0A%20%20%20%20%20%20%20%20%20%20...reply%0A%20%20%20%20%20%20%20%20%7D%29%29.sort%28%28a%2C%20b%29%20%3D%3E%20a.timestamp%20-%20b.timestamp%29%3B%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20repliesArray.forEach%28%28reply%2C%20replyIndex%29%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20const%20replyDiv%20%3D%20document.createElement%28%27div%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20replyDiv.className%20%3D%20%27reply-section%27%3B%0A%20%20%20%20%20%20%20%20%20%20if%20%28replyIndex%20%3E%3D%203%29%20replyDiv.classList.add%28%27hidden-replies%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20let%20replyMediaHtml%20%3D%20%27%27%3B%0A%20%20%20%20%20%20%20%20%20%20if%20%28reply.image%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28reply.mediaType%20%26%26%20reply.mediaType.startsWith%28%27video/%27%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20replyMediaHtml%20%3D%20%60%3Cvideo%20class%3D%27post-video%27%20controls%3E%3Csource%20src%3D%27%24%7Breply.image%7D%27%20type%3D%27%24%7Breply.mediaType%7D%27%3E%u0412%u0430%u0448%20%u0431%u0440%u0430%u0443%u0437%u0435%u0440%20%u043D%u0435%20%u043F%u043E%u0434%u0434%u0435%u0440%u0436%u0438%u0432%u0430%u0435%u0442%20%u0432%u0438%u0434%u0435%u043E.%3C/video%3E%60%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20replyMediaHtml%20%3D%20%60%3Cimg%20class%3D%27post-image%27%20src%3D%27%24%7Breply.image%7D%27%20alt%3D%27%u0418%u0437%u043E%u0431%u0440%u0430%u0436%u0435%u043D%u0438%u0435%27%20onclick%3D%27window.open%28this.src%29%27%20/%3E%60%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20const%20opTag%20%3D%20reply.uid%20%3D%3D%3D%20thread.uid%20%3F%20%27%3Cspan%20class%3D%22op-tag%22%3E%28OP%29%3C/span%3E%20%27%20%3A%20%27%27%3B%0A%20%20%20%20%20%20%20%20%20%20const%20modTag%20%3D%20%28reply.isMod%20%26%26%20%21reply.hideMod%29%20%3F%20%27%3Cspan%20class%3D%22mod-tag%22%3E%5BMOD%5D%3C/span%3E%20%27%20%3A%20%27%27%3B%0A%20%20%20%20%20%20%20%20%20%20const%20testerTag%20%3D%20reply.isTester%20%3F%20%27%3Cspan%20class%3D%22tester-tag%22%3E%5BTESTER%5D%3C/span%3E%20%27%20%3A%20%27%27%3B%0A%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20replyDiv.innerHTML%20%3D%20%60%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22reply-header%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%24%7BmodTag%7D%24%7BtesterTag%7D%24%7BopTag%7D%3Cstrong%3E%24%7BescapeHtml%28reply.nick%29%7D%3C/strong%3E%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%20%24%7Bnew%20Date%28reply.timestamp%29.toLocaleString%28%27ru-RU%27%29%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%3E%24%7BescapeHtml%28reply.text%29%7D%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%24%7BreplyMediaHtml%7D%0A%20%20%20%20%20%20%20%20%20%20%60%3B%0A%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20if%20%28canDeletePost%28reply.uid%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20deleteBtn%20%3D%20document.createElement%28%27button%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20deleteBtn.textContent%20%3D%20%27%uD83D%uDDD1%uFE0F%20%u0423%u0434%u0430%u043B%u0438%u0442%u044C%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20deleteBtn.className%20%3D%20%27danger%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20deleteBtn.style.fontSize%20%3D%20%270.85em%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20deleteBtn.onclick%20%3D%20%28%29%20%3D%3E%20deleteReply%28thread.firebaseId%2C%20reply.firebaseId%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20replyDiv.appendChild%28deleteBtn%29%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20repliesContainer.appendChild%28replyDiv%29%3B%0A%20%20%20%20%20%20%20%20%7D%29%3B%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20if%20%28repliesArray.length%20%3E%203%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20const%20readMore%20%3D%20document.createElement%28%27span%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20readMore.className%20%3D%20%27read-more%27%3B%0A%20%20%20%20%20%20%20%20%20%20readMore.textContent%20%3D%20%60%u041F%u043E%u043A%u0430%u0437%u0430%u0442%u044C%20%u0432%u0441%u0435%20%u043E%u0442%u0432%u0435%u0442%u044B%20%28%24%7BrepliesArray.length%7D%29%60%3B%0A%20%20%20%20%20%20%20%20%20%20readMore.onclick%20%3D%20%28%29%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20hidden%20%3D%20repliesContainer.querySelectorAll%28%27.hidden-replies%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20isHidden%20%3D%20hidden%5B0%5D.style.display%20%21%3D%3D%20%27block%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20hidden.forEach%28r%20%3D%3E%20r.style.display%20%3D%20isHidden%20%3F%20%27block%27%20%3A%20%27none%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20readMore.textContent%20%3D%20isHidden%20%3F%20%27%u0421%u0432%u0435%u0440%u043D%u0443%u0442%u044C%20%u043E%u0442%u0432%u0435%u0442%u044B%27%20%3A%20%60%u041F%u043E%u043A%u0430%u0437%u0430%u0442%u044C%20%u0432%u0441%u0435%20%u043E%u0442%u0432%u0435%u0442%u044B%20%28%24%7BrepliesArray.length%7D%29%60%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%20%20%20%20%20%20threadDiv.appendChild%28repliesContainer%29%3B%0A%20%20%20%20%20%20%20%20%20%20threadDiv.appendChild%28readMore%29%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20threadDiv.appendChild%28repliesContainer%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%0A%20%20%20%20%20%20if%20%28currentUser%29%20%7B%0A%20%20%20%20%20%20%20%20const%20replyForm%20%3D%20document.createElement%28%27div%27%29%3B%0A%20%20%20%20%20%20%20%20replyForm.className%20%3D%20%27reply-form%27%3B%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20let%20hideModCheckboxHtml%20%3D%20%27%27%3B%0A%20%20%20%20%20%20%20%20if%20%28isMod%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20hideModCheckboxHtml%20%3D%20%60%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22checkbox-group%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cinput%20type%3D%22checkbox%22%20class%3D%22reply-hide-mod%22%20id%3D%22reply-hide-mod-%24%7Bthread.firebaseId%7D%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Clabel%20for%3D%22reply-hide-mod-%24%7Bthread.firebaseId%7D%22%3E%uD83C%uDFAD%20%u0421%u043A%u0440%u044B%u0442%u044C%20%u043F%u0440%u0438%u043F%u0438%u0441%u043A%u0443%20%u043C%u043E%u0434%u0435%u0440%u0430%u0442%u043E%u0440%u0430%3F%3C/label%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%60%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20replyForm.innerHTML%20%3D%20%60%0A%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22form-group%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cinput%20type%3D%22text%22%20class%3D%22reply-nick%22%20placeholder%3D%22%u0410%u043D%u043E%u043D%u0438%u043C%22%3E%0A%20%20%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22form-group%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Ctextarea%20class%3D%22reply-text%22%20rows%3D%223%22%20placeholder%3D%22%u0422%u0435%u043A%u0441%u0442%20%u043E%u0442%u0432%u0435%u0442%u0430%22%3E%3C/textarea%3E%0A%20%20%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22form-group%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cinput%20type%3D%22file%22%20class%3D%22reply-image%22%20accept%3D%22image/*%2Cvideo/mp4%2Cvideo/webm%2Cimage/gif%22%3E%0A%20%20%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%24%7BhideModCheckboxHtml%7D%0A%20%20%20%20%20%20%20%20%60%3B%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20const%20replyBtn%20%3D%20document.createElement%28%27button%27%29%3B%0A%20%20%20%20%20%20%20%20replyBtn.textContent%20%3D%20%27%uD83D%uDCAC%20%u041E%u0442%u0432%u0435%u0442%u0438%u0442%u044C%27%3B%0A%20%20%20%20%20%20%20%20replyBtn.onclick%20%3D%20%28%29%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20const%20text%20%3D%20replyForm.querySelector%28%27.reply-text%27%29.value.trim%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20const%20imageInput%20%3D%20replyForm.querySelector%28%27.reply-image%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20if%20%28%21text%20%26%26%20%21imageInput.files%5B0%5D%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20showStatus%28%27%u0412%u0432%u0435%u0434%u0438%u0442%u0435%20%u0442%u0435%u043A%u0441%u0442%20%u0438%u043B%u0438%20%u043F%u0440%u0438%u043A%u0440%u0435%u043F%u0438%u0442%u0435%20%u0444%u0430%u0439%u043B%21%27%2C%20%27error%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20showCaptchaModal%28%28%29%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20addReply%28thread.firebaseId%2C%20thread.uid%2C%20replyForm%29%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0A%20%20%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%20%20%20%20replyForm.appendChild%28replyBtn%29%3B%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20threadDiv.appendChild%28replyForm%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%0A%20%20%20%20%20%20if%20%28canDeletePost%28thread.uid%29%29%20%7B%0A%20%20%20%20%20%20%20%20const%20modControls%20%3D%20document.createElement%28%27div%27%29%3B%0A%20%20%20%20%20%20%20%20modControls.className%20%3D%20%27mod-controls%27%3B%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20const%20deleteThreadBtn%20%3D%20document.createElement%28%27button%27%29%3B%0A%20%20%20%20%20%20%20%20deleteThreadBtn.textContent%20%3D%20%27%uD83D%uDDD1%uFE0F%20%u0423%u0434%u0430%u043B%u0438%u0442%u044C%20%u0442%u0440%u0435%u0434%27%3B%0A%20%20%20%20%20%20%20%20deleteThreadBtn.className%20%3D%20%27danger%27%3B%0A%20%20%20%20%20%20%20%20deleteThreadBtn.onclick%20%3D%20%28%29%20%3D%3E%20deleteThread%28thread.firebaseId%29%3B%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20modControls.appendChild%28deleteThreadBtn%29%3B%0A%20%20%20%20%20%20%20%20threadDiv.appendChild%28modControls%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%0A%20%20%20%20%20%20container.appendChild%28threadDiv%29%3B%0A%20%20%20%20%7D%29%3B%0A%20%20%7D%29%3B%0A%7D%0A%0Afunction%20addReply%28threadId%2C%20threadUid%2C%20formDiv%29%20%7B%0A%20%20const%20nick%20%3D%20formDiv.querySelector%28%27.reply-nick%27%29.value.trim%28%29%20%7C%7C%20%27%u0410%u043D%u043E%u043D%u0438%u043C%27%3B%0A%20%20const%20text%20%3D%20formDiv.querySelector%28%27.reply-text%27%29.value.trim%28%29%3B%0A%20%20const%20imageInput%20%3D%20formDiv.querySelector%28%27.reply-image%27%29%3B%0A%20%20const%20hideModCheckbox%20%3D%20formDiv.querySelector%28%27.reply-hide-mod%27%29%3B%0A%20%20%0A%20%20if%20%28%21text%20%26%26%20%21imageInput.files%5B0%5D%29%20%7B%0A%20%20%20%20showStatus%28%27%u0412%u0432%u0435%u0434%u0438%u0442%u0435%20%u0442%u0435%u043A%u0441%u0442%20%u0438%u043B%u0438%20%u043F%u0440%u0438%u043A%u0440%u0435%u043F%u0438%u0442%u0435%20%u0444%u0430%u0439%u043B%21%27%2C%20%27error%27%29%3B%0A%20%20%20%20return%3B%0A%20%20%7D%0A%20%20%0A%20%20const%20reply%20%3D%20%7B%0A%20%20%20%20nick%3A%20nick%2C%0A%20%20%20%20text%3A%20text%2C%0A%20%20%20%20uid%3A%20currentUser.uid%2C%0A%20%20%20%20isMod%3A%20isMod%2C%0A%20%20%20%20hideMod%3A%20hideModCheckbox%20%3F%20hideModCheckbox.checked%20%3A%20false%2C%0A%20%20%20%20isTester%3A%20currentUser.isTester%2C%0A%20%20%20%20timestamp%3A%20Date.now%28%29%2C%0A%20%20%20%20image%3A%20null%2C%0A%20%20%20%20mediaType%3A%20null%0A%20%20%7D%3B%0A%20%20%0A%20%20if%20%28imageInput.files%5B0%5D%29%20%7B%0A%20%20%20%20const%20file%20%3D%20imageInput.files%5B0%5D%3B%0A%20%20%20%20const%20reader%20%3D%20new%20FileReader%28%29%3B%0A%20%20%20%20reader.onload%20%3D%20e%20%3D%3E%20%7B%0A%20%20%20%20%20%20reply.image%20%3D%20e.target.result%3B%0A%20%20%20%20%20%20reply.mediaType%20%3D%20file.type%3B%0A%20%20%20%20%20%20const%20replyRef%20%3D%20push%28ref%28database%2C%20%60threads/%24%7BthreadId%7D/replies%60%29%29%3B%0A%20%20%20%20%20%20set%28replyRef%2C%20reply%29%3B%0A%20%20%20%20%20%20showStatus%28%27%u041E%u0442%u0432%u0435%u0442%20%u0434%u043E%u0431%u0430%u0432%u043B%u0435%u043D%21%27%29%3B%0A%20%20%20%20%20%20formDiv.querySelector%28%27.reply-text%27%29.value%20%3D%20%27%27%3B%0A%20%20%20%20%20%20formDiv.querySelector%28%27.reply-nick%27%29.value%20%3D%20%27%27%3B%0A%20%20%20%20%20%20formDiv.querySelector%28%27.reply-image%27%29.value%20%3D%20%27%27%3B%0A%20%20%20%20%20%20if%20%28hideModCheckbox%29%20hideModCheckbox.checked%20%3D%20false%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20reader.readAsDataURL%28file%29%3B%0A%20%20%7D%20else%20%7B%0A%20%20%20%20const%20replyRef%20%3D%20push%28ref%28database%2C%20%60threads/%24%7BthreadId%7D/replies%60%29%29%3B%0A%20%20%20%20set%28replyRef%2C%20reply%29%3B%0A%20%20%20%20showStatus%28%27%u041E%u0442%u0432%u0435%u0442%20%u0434%u043E%u0431%u0430%u0432%u043B%u0435%u043D%21%27%29%3B%0A%20%20%20%20formDiv.querySelector%28%27.reply-text%27%29.value%20%3D%20%27%27%3B%0A%20%20%20%20formDiv.querySelector%28%27.reply-nick%27%29.value%20%3D%20%27%27%3B%0A%20%20%20%20if%20%28hideModCheckbox%29%20hideModCheckbox.checked%20%3D%20false%3B%0A%20%20%7D%0A%7D%0A%0Afunction%20createThread%28%29%20%7B%0A%20%20const%20title%20%3D%20document.getElementById%28%27thread-title%27%29.value.trim%28%29%3B%0A%20%20const%20text%20%3D%20document.getElementById%28%27thread-text%27%29.value.trim%28%29%3B%0A%20%20const%20imageInput%20%3D%20document.getElementById%28%27thread-image%27%29%3B%0A%20%20const%20hideModCheckbox%20%3D%20document.getElementById%28%27thread-hide-mod%27%29%3B%0A%20%20%0A%20%20if%20%28%21text%20%26%26%20%21imageInput.files%5B0%5D%29%20%7B%0A%20%20%20%20showStatus%28%27%u0412%u0432%u0435%u0434%u0438%u0442%u0435%20%u0442%u0435%u043A%u0441%u0442%20%u0438%u043B%u0438%20%u043F%u0440%u0438%u043A%u0440%u0435%u043F%u0438%u0442%u0435%20%u0444%u0430%u0439%u043B%21%27%2C%20%27error%27%29%3B%0A%20%20%20%20return%3B%0A%20%20%7D%0A%20%20%0A%20%20showCaptchaModal%28%28%29%20%3D%3E%20%7B%0A%20%20%20%20const%20nick%20%3D%20document.getElementById%28%27thread-nick%27%29.value.trim%28%29%20%7C%7C%20%27%u0410%u043D%u043E%u043D%u0438%u043C%27%3B%0A%20%20%20%20%0A%20%20%20%20const%20thread%20%3D%20%7B%0A%20%20%20%20%20%20title%3A%20title%2C%0A%20%20%20%20%20%20text%3A%20text%2C%0A%20%20%20%20%20%20nick%3A%20nick%2C%0A%20%20%20%20%20%20uid%3A%20currentUser.uid%2C%0A%20%20%20%20%20%20isMod%3A%20isMod%2C%0A%20%20%20%20%20%20hideMod%3A%20hideModCheckbox%20%3F%20hideModCheckbox.checked%20%3A%20false%2C%0A%20%20%20%20%20%20isTester%3A%20currentUser.isTester%2C%0A%20%20%20%20%20%20timestamp%3A%20Date.now%28%29%2C%0A%20%20%20%20%20%20image%3A%20null%2C%0A%20%20%20%20%20%20mediaType%3A%20null%0A%20%20%20%20%7D%3B%0A%20%20%20%20%0A%20%20%20%20if%20%28imageInput.files%5B0%5D%29%20%7B%0A%20%20%20%20%20%20const%20file%20%3D%20imageInput.files%5B0%5D%3B%0A%20%20%20%20%20%20const%20reader%20%3D%20new%20FileReader%28%29%3B%0A%20%20%20%20%20%20reader.onload%20%3D%20e%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20thread.image%20%3D%20e.target.result%3B%0A%20%20%20%20%20%20%20%20thread.mediaType%20%3D%20file.type%3B%0A%20%20%20%20%20%20%20%20const%20threadRef%20%3D%20push%28ref%28database%2C%20%27threads%27%29%29%3B%0A%20%20%20%20%20%20%20%20set%28threadRef%2C%20thread%29%3B%0A%20%20%20%20%20%20%20%20showStatus%28%27%u0422%u0440%u0435%u0434%20%u0441%u043E%u0437%u0434%u0430%u043D%21%27%29%3B%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20document.getElementById%28%27thread-title%27%29.value%20%3D%20%27%27%3B%0A%20%20%20%20%20%20%20%20document.getElementById%28%27thread-text%27%29.value%20%3D%20%27%27%3B%0A%20%20%20%20%20%20%20%20document.getElementById%28%27thread-image%27%29.value%20%3D%20%27%27%3B%0A%20%20%20%20%20%20%20%20if%20%28hideModCheckbox%29%20hideModCheckbox.checked%20%3D%20false%3B%0A%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%20%20reader.readAsDataURL%28file%29%3B%0A%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20const%20threadRef%20%3D%20push%28ref%28database%2C%20%27threads%27%29%29%3B%0A%20%20%20%20%20%20set%28threadRef%2C%20thread%29%3B%0A%20%20%20%20%20%20showStatus%28%27%u0422%u0440%u0435%u0434%20%u0441%u043E%u0437%u0434%u0430%u043D%21%27%29%3B%0A%20%20%20%20%20%20%0A%20%20%20%20%20%20document.getElementById%28%27thread-title%27%29.value%20%3D%20%27%27%3B%0A%20%20%20%20%20%20document.getElementById%28%27thread-text%27%29.value%20%3D%20%27%27%3B%0A%20%20%20%20%20%20if%20%28hideModCheckbox%29%20hideModCheckbox.checked%20%3D%20false%3B%0A%20%20%20%20%7D%0A%20%20%7D%29%3B%0A%7D%0A%0Afunction%20deleteThread%28threadId%29%20%7B%0A%20%20showConfirm%28%27%u0412%u044B%20%u0443%u0432%u0435%u0440%u0435%u043D%u044B%2C%20%u0447%u0442%u043E%20%u0445%u043E%u0442%u0438%u0442%u0435%20%u0443%u0434%u0430%u043B%u0438%u0442%u044C%20%u044D%u0442%u043E%u0442%20%u0442%u0440%u0435%u0434%3F%27%2C%20%28%29%20%3D%3E%20%7B%0A%20%20%20%20remove%28ref%28database%2C%20%60threads/%24%7BthreadId%7D%60%29%29%3B%0A%20%20%20%20showStatus%28%27%u0422%u0440%u0435%u0434%20%u0443%u0434%u0430%u043B%u0435%u043D%21%27%29%3B%0A%20%20%7D%29%3B%0A%7D%0A%0Afunction%20deleteReply%28threadId%2C%20replyId%29%20%7B%0A%20%20showConfirm%28%27%u0412%u044B%20%u0443%u0432%u0435%u0440%u0435%u043D%u044B%2C%20%u0447%u0442%u043E%20%u0445%u043E%u0442%u0438%u0442%u0435%20%u0443%u0434%u0430%u043B%u0438%u0442%u044C%20%u044D%u0442%u043E%u0442%20%u043E%u0442%u0432%u0435%u0442%3F%27%2C%20%28%29%20%3D%3E%20%7B%0A%20%20%20%20remove%28ref%28database%2C%20%60threads/%24%7BthreadId%7D/replies/%24%7BreplyId%7D%60%29%29%3B%0A%20%20%20%20showStatus%28%27%u041E%u0442%u0432%u0435%u0442%20%u0443%u0434%u0430%u043B%u0435%u043D%21%27%29%3B%0A%20%20%7D%29%3B%0A%7D%0A%0Afunction%20escapeHtml%28text%29%20%7B%0A%20%20const%20div%20%3D%20document.createElement%28%27div%27%29%3B%0A%20%20div.textContent%20%3D%20text%3B%0A%20%20return%20div.innerHTML.replace%28/%5Cn/g%2C%20%27%3Cbr%3E%27%29%3B%0A%7D%0A%0Afunction%20getRepliesWord%28count%29%20%7B%0A%20%20if%20%28count%20%25%2010%20%3D%3D%3D%201%20%26%26%20count%20%25%20100%20%21%3D%3D%2011%29%20return%20%27%u043E%u0442%u0432%u0435%u0442%27%3B%0A%20%20if%20%28%5B2%2C%203%2C%204%5D.includes%28count%20%25%2010%29%20%26%26%20%21%5B12%2C%2013%2C%2014%5D.includes%28count%20%25%20100%29%29%20return%20%27%u043E%u0442%u0432%u0435%u0442%u0430%27%3B%0A%20%20return%20%27%u043E%u0442%u0432%u0435%u0442%u043E%u0432%27%3B%0A%7D%0A%0A//%20Event%20Listeners%0Adocument.getElementById%28%27mod-btn%27%29.onclick%20%3D%20%28%29%20%3D%3E%20%7B%0A%20%20showModal%28%27password-modal%27%29%3B%0A%20%20document.getElementById%28%27mod-password-input%27%29.value%20%3D%20%27%27%3B%0A%20%20document.getElementById%28%27mod-password-input%27%29.focus%28%29%3B%0A%7D%3B%0A%0Adocument.getElementById%28%27submit-password%27%29.onclick%20%3D%20%28%29%20%3D%3E%20%7B%0A%20%20const%20pass%20%3D%20document.getElementById%28%27mod-password-input%27%29.value%3B%0A%20%20if%20%28pass%20%3D%3D%3D%20MOD_PASSWORD%29%20%7B%0A%20%20%20%20hideModal%28%27password-modal%27%29%3B%0A%20%20%20%20login%28true%29%3B%0A%20%20%7D%20else%20%7B%0A%20%20%20%20showStatus%28%27%u041D%u0435%u0432%u0435%u0440%u043D%u044B%u0439%20%u043F%u0430%u0440%u043E%u043B%u044C%21%27%2C%20%27error%27%29%3B%0A%20%20%20%20document.getElementById%28%27mod-password-input%27%29.value%20%3D%20%27%27%3B%0A%20%20%20%20document.getElementById%28%27mod-password-input%27%29.focus%28%29%3B%0A%20%20%7D%0A%7D%3B%0A%0Adocument.getElementById%28%27cancel-password%27%29.onclick%20%3D%20%28%29%20%3D%3E%20%7B%0A%20%20hideModal%28%27password-modal%27%29%3B%0A%7D%3B%0A%0Adocument.getElementById%28%27mod-password-input%27%29.onkeypress%20%3D%20%28e%29%20%3D%3E%20%7B%0A%20%20if%20%28e.key%20%3D%3D%3D%20%27Enter%27%29%20%7B%0A%20%20%20%20document.getElementById%28%27submit-password%27%29.click%28%29%3B%0A%20%20%7D%0A%7D%3B%0A%0Adocument.getElementById%28%27user-btn%27%29.onclick%20%3D%20%28%29%20%3D%3E%20%7B%0A%20%20login%28false%29%3B%0A%7D%3B%0A%0Adocument.getElementById%28%27new-thread-btn%27%29.onclick%20%3D%20createThread%3B%0A%0Adocument.getElementById%28%27modal-refresh-captcha%27%29.onclick%20%3D%20generateCaptcha%3B%0A%0Adocument.getElementById%28%27submit-captcha%27%29.onclick%20%3D%20%28%29%20%3D%3E%20%7B%0A%20%20if%20%28verifyCaptcha%28%29%29%20%7B%0A%20%20%20%20hideModal%28%27captcha-modal%27%29%3B%0A%20%20%20%20if%20%28captchaCallback%29%20%7B%0A%20%20%20%20%20%20captchaCallback%28%29%3B%0A%20%20%20%20%20%20captchaCallback%20%3D%20null%3B%0A%20%20%20%20%7D%0A%20%20%7D%20else%20%7B%0A%20%20%20%20showStatus%28%27%u041D%u0435%u0432%u0435%u0440%u043D%u0430%u044F%20%u043A%u0430%u043F%u0447%u0430%21%27%2C%20%27error%27%29%3B%0A%20%20%20%20generateCaptcha%28%29%3B%0A%20%20%20%20document.getElementById%28%27modal-captcha-input%27%29.focus%28%29%3B%0A%20%20%7D%0A%7D%3B%0A%0Adocument.getElementById%28%27cancel-captcha%27%29.onclick%20%3D%20%28%29%20%3D%3E%20%7B%0A%20%20hideModal%28%27captcha-modal%27%29%3B%0A%20%20captchaCallback%20%3D%20null%3B%0A%20%20document.getElementById%28%27modal-captcha-input%27%29.value%20%3D%20%27%27%3B%0A%7D%3B%0A%0Adocument.getElementById%28%27modal-captcha-input%27%29.onkeypress%20%3D%20%28e%29%20%3D%3E%20%7B%0A%20%20if%20%28e.key%20%3D%3D%3D%20%27Enter%27%29%20%7B%0A%20%20%20%20e.preventDefault%28%29%3B%0A%20%20%20%20e.stopPropagation%28%29%3B%0A%20%20%20%20document.getElementById%28%27submit-captcha%27%29.click%28%29%3B%0A%20%20%20%20return%20false%3B%0A%20%20%7D%0A%7D%3B%0A%0Adocument.getElementById%28%27logout-btn%27%29.onclick%20%3D%20%28%29%20%3D%3E%20%7B%0A%20%20showConfirm%28%27%u0412%u044B%20%u0443%u0432%u0435%u0440%u0435%u043D%u044B%2C%20%u0447%u0442%u043E%20%u0445%u043E%u0442%u0438%u0442%u0435%20%u0432%u044B%u0439%u0442%u0438%3F%27%2C%20logout%29%3B%0A%7D%3B%0A%0Adocument.getElementById%28%27settings-btn%27%29.onclick%20%3D%20%28%29%20%3D%3E%20%7B%0A%20%20showModal%28%27settings-modal%27%29%3B%0A%20%20updateThemeSelector%28%29%3B%0A%20%20updateVerificationUI%28%29%3B%0A%7D%3B%0A%0Adocument.getElementById%28%27close-settings%27%29.onclick%20%3D%20%28%29%20%3D%3E%20%7B%0A%20%20hideModal%28%27settings-modal%27%29%3B%0A%7D%3B%0A%0Adocument.getElementById%28%27start-verification-btn%27%29.onclick%20%3D%20%28%29%20%3D%3E%20%7B%0A%20%20document.getElementById%28%27verification-section%27%29.style.display%20%3D%20%27block%27%3B%0A%20%20document.getElementById%28%27start-verification-btn%27%29.style.display%20%3D%20%27none%27%3B%0A%20%20generateVerificationTask%28%29%3B%0A%7D%3B%0A%0Adocument.getElementById%28%27verify-btn%27%29.onclick%20%3D%20%28%29%20%3D%3E%20%7B%0A%20%20if%20%28verifySelection%28%29%29%20%7B%0A%20%20%20%20isVerified%20%3D%20true%3B%0A%20%20%20%20saveUserSession%28%29%3B%0A%20%20%20%20showStatus%28%27%u2705%20%u0412%u0435%u0440%u0438%u0444%u0438%u043A%u0430%u0446%u0438%u044F%20%u0443%u0441%u043F%u0435%u0448%u043D%u0430%21%20%u041A%u0430%u043F%u0447%u0430%20%u0431%u043E%u043B%u044C%u0448%u0435%20%u043D%u0435%20%u0431%u0443%u0434%u0435%u0442%20%u0437%u0430%u043F%u0440%u0430%u0448%u0438%u0432%u0430%u0442%u044C%u0441%u044F%27%29%3B%0A%20%20%20%20updateVerificationUI%28%29%3B%0A%20%20%7D%20else%20%7B%0A%20%20%20%20showStatus%28%27%u274C%20%u041D%u0435%u0432%u0435%u0440%u043D%u044B%u0439%20%u0432%u044B%u0431%u043E%u0440%21%20%u041F%u043E%u043F%u0440%u043E%u0431%u0443%u0439%u0442%u0435%20%u0441%u043D%u043E%u0432%u0430%27%2C%20%27error%27%29%3B%0A%20%20%20%20generateVerificationTask%28%29%3B%0A%20%20%7D%0A%7D%3B%0A%0Adocument.querySelectorAll%28%27.theme-option%27%29.forEach%28option%20%3D%3E%20%7B%0A%20%20option.onclick%20%3D%20%28%29%20%3D%3E%20%7B%0A%20%20%20%20applyTheme%28option.dataset.theme%29%3B%0A%20%20%7D%3B%0A%7D%29%3B%0A%0A//%20Initialize%0AapplyTheme%28currentTheme%29%3B%0A%0Aif%20%28loadUserSession%28%29%29%20%7B%0A%20%20document.getElementById%28%27login-section%27%29.style.display%20%3D%20%27none%27%3B%0A%20%20document.getElementById%28%27create-thread-section%27%29.style.display%20%3D%20%27block%27%3B%0A%20%20document.getElementById%28%27logout-btn%27%29.style.display%20%3D%20%27block%27%3B%0A%20%20%0A%20%20if%20%28isMod%29%20%7B%0A%20%20%20%20document.getElementById%28%27thread-hide-mod-checkbox%27%29.style.display%20%3D%20%27block%27%3B%0A%20%20%7D%0A%7D%0A%0AloadThreads%28%29%3B%0A%3C/script%3E%0A%3C/body%3E'));
</script>
</body>
</html>
